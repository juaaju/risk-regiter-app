2025-05-05 14:13:51,168 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:13:51,169 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:13:51,169 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:13:51,169 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:13:51,170 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:13:51,189 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:13:51,189 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75aa1fea4ad0>
2025-05-05 14:13:51,190 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:13:51,190 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:13:51,190 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:13:51,190 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:13:51,190 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:13:51,192 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'GnlMU8AS6Xyw0ueGnVyBx9KLrX0=')])
2025-05-05 14:13:51,192 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:13:51,192 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:13:51,193 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:13:51,194 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:13:51,194 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:13:51,195 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:13:51,196 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:13:51,196 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,196 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:13:51,196 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:13:51,197 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:13:51,216 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:13:51,217 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75aa1feeb560>
2025-05-05 14:13:51,218 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:13:51,218 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:13:51,219 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:13:51,219 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:13:51,219 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:13:51,219 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'jfNU9eY5xY7YwkpySjCGSCSXGK4=')])
2025-05-05 14:13:51,220 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:13:51,220 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,221 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,222 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,222 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,226 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:13:51,226 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:13:51,236 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:15:33,982 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:15:33,982 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:15:33,983 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:15:34,004 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:15:34,005 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:15:34,005 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:15:34,014 - rag-chatbot - ERROR - Error membuat koneksi psycopg2: connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"
connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"

2025-05-05 14:15:34,015 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 96, in get_psycopg2_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"
connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"


2025-05-05 14:15:34,015 - rag-chatbot - ERROR - Error saat memproses kueri chat: connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"
connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"

2025-05-05 14:15:34,015 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 249, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 114, in search_similar_chunks
    conn = get_psycopg2_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 96, in get_psycopg2_connection
    conn = psycopg2.connect(
           ^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"
connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "postgres"


2025-05-05 14:16:11,172 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:11,173 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:11,173 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:16:11,173 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:16:11,173 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:11,173 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:11,173 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:11,173 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:11,174 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:16:11,174 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:16:11,174 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:11,174 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,341 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:16:12,342 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,342 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:16:12,342 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:16:12,343 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:16:12,361 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:16:12,362 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x745c99b1c8c0>
2025-05-05 14:16:12,362 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:16:12,362 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:16:12,363 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:16:12,363 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:16:12,363 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:16:12,363 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'7Yb6OCMcQRs0wlfu72S2+lP+cX0=')])
2025-05-05 14:16:12,364 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:16:12,365 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,366 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,366 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,366 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:12,368 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:16:12,368 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:16:12,369 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,369 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:16:12,369 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:16:12,370 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:16:12,386 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:16:12,387 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x745c99b63500>
2025-05-05 14:16:12,387 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:16:12,387 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:16:12,387 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:16:12,387 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:16:12,387 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:16:12,390 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'E4J1DkOP/9kFaVNE1UN92EuVe0A=')])
2025-05-05 14:16:12,391 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:16:12,391 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,392 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,392 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,392 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,395 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:16:12,395 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:16:12,406 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:16:21,130 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:16:21,130 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:16:21,131 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:21,160 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:16:21,160 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:16:21,160 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:16:21,165 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:16:21,165 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:16:21,166 - rag-chatbot - ERROR - Error saat pencarian chunks: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:16:21,167 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:16:21,167 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:16:21,167 - rag-chatbot - ERROR - Error saat memproses kueri chat: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:16:21,167 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 249, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:18:34,431 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:34,431 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:34,431 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:18:34,431 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:18:34,432 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:34,432 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:34,432 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:34,432 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:34,432 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:18:34,432 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:18:34,433 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:34,433 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,006 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:18:36,007 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,015 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:18:36,016 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:18:36,017 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:18:36,037 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:18:36,038 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x742909990bc0>
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:18:36,038 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Nvmqk+Ptf48srm9IPPje4Q7INCA=')])
2025-05-05 14:18:36,039 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:18:36,039 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,040 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,041 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,041 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:36,042 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:18:36,042 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:18:36,042 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,042 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:18:36,043 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:18:36,043 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:18:36,061 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:18:36,062 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7429099cb350>
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:18:36,062 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'8KXZELVS6Pj/osYkwdqWb2C4oVc=')])
2025-05-05 14:18:36,062 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:18:36,063 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,063 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,063 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,063 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,065 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:18:36,065 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:18:36,078 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:18:45,022 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:18:45,022 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:18:45,024 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:45,048 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:18:45,049 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:18:45,049 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:18:45,054 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:18:45,054 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:18:45,055 - rag-chatbot - ERROR - Error saat pencarian chunks: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:18:45,055 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:18:45,055 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:18:45,055 - rag-chatbot - ERROR - Error saat memproses kueri chat: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:18:45,056 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 249, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:23:50,965 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:23:50,966 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:23:50,966 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:23:50,973 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:23:50,973 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:23:50,973 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:23:50,979 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:23:50,979 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:23:50,981 - rag-chatbot - ERROR - Error saat pencarian chunks: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:23:50,981 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:23:50,982 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:23:50,982 - rag-chatbot - ERROR - Error saat memproses kueri chat: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:23:50,982 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 249, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 129, in search_similar_chunks
    cursor.execute(
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: function search_similar_chunks(numeric[], numeric, integer) does not exist
LINE 2:                 SELECT * FROM search_similar_chunks(ARRAY[0....
                                      ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:26:33,253 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:33,253 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:33,254 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:26:33,254 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:26:33,254 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:33,254 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:33,254 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:33,254 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:33,255 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:26:33,255 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:26:33,255 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:33,255 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,420 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:26:34,421 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,421 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:26:34,421 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:26:34,422 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:26:34,442 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:26:34,442 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x717ffbff3020>
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:26:34,443 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'w6W0102XacnwVZe7rAUJEVQ/gxM=')])
2025-05-05 14:26:34,443 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:26:34,443 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,444 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,445 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,445 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:34,447 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:26:34,447 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:26:34,447 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,447 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:26:34,448 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:26:34,448 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:26:34,466 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:26:34,467 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x717ffbb5f470>
2025-05-05 14:26:34,467 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:26:34,468 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:26:34,468 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:26:34,468 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:26:34,468 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:26:34,468 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'GM+cnXN6TbixhcohTKS26qhaHLU=')])
2025-05-05 14:26:34,468 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:26:34,468 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,469 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,469 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,469 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,470 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:26:34,470 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:26:34,482 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:26:41,251 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:26:41,251 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:26:41,252 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:41,274 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:26:41,274 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:26:41,274 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:26:41,281 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:26:41,281 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:26:41,285 - rag-chatbot - ERROR - Error saat pencarian chunks: operator does not exist: vector <=> numeric[]
LINE 8:                 1 - (dc.embedding <=> ARRAY[0.02723246812820...
                                          ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:26:41,285 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 161, in search_similar_chunks
    cursor.execute(query, (query_embedding, query_embedding, similarity_threshold, query_embedding, max_chunks))
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: operator does not exist: vector <=> numeric[]
LINE 8:                 1 - (dc.embedding <=> ARRAY[0.02723246812820...
                                          ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:26:41,285 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:26:41,285 - rag-chatbot - ERROR - Error saat memproses kueri chat: operator does not exist: vector <=> numeric[]
LINE 8:                 1 - (dc.embedding <=> ARRAY[0.02723246812820...
                                          ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

2025-05-05 14:26:41,285 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 276, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 161, in search_similar_chunks
    cursor.execute(query, (query_embedding, query_embedding, similarity_threshold, query_embedding, max_chunks))
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedFunction: operator does not exist: vector <=> numeric[]
LINE 8:                 1 - (dc.embedding <=> ARRAY[0.02723246812820...
                                          ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


2025-05-05 14:28:44,994 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:44,994 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:44,995 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:28:44,995 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:28:44,995 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:44,995 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:44,996 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:44,996 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:44,996 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:28:44,996 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:28:44,996 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:44,997 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,410 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:28:46,411 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,411 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:28:46,412 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:28:46,412 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:28:46,446 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:28:46,447 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x74af91780bf0>
2025-05-05 14:28:46,447 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:28:46,448 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:28:46,448 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:28:46,448 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:28:46,448 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:28:46,448 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'TvflM+AqE+C7fTswz6jda7JxI7g=')])
2025-05-05 14:28:46,449 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:28:46,449 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,450 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,450 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,450 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:46,452 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:28:46,452 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:28:46,452 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,452 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:28:46,453 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:28:46,453 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:28:46,468 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:28:46,469 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x74af917bb650>
2025-05-05 14:28:46,469 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:28:46,470 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:28:46,470 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:28:46,470 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:28:46,470 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:28:46,470 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'CwklXmU4f0ljVId925LODDD+2EQ=')])
2025-05-05 14:28:46,470 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:28:46,470 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,471 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,471 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,471 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,473 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:46,473 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:28:46,483 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:28:51,883 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:28:51,883 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:28:51,885 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:51,907 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:28:51,907 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:28:51,907 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:28:51,913 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:28:51,913 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:28:51,920 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7762023673178301
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7732897400856072
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Hasil: chunk_id=9, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7325446169051769
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Hasil: chunk_id=10, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7174611260020074
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Hasil: chunk_id=4, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6719677839317579
2025-05-05 14:28:51,920 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:28:51,920 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:28:51,922 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\n\nDOCUMENT 2:\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\nDOCUMENT 3:\natau dipermukaan airagar terhindar dari bahaya tenggelam dan atau\nmengatur keterapungan (buoyancy) pengguna agar dapat berada pada\nposisi tenggelam (negative buoyant) atau melayang (neutral buoyant) di\ndalam air.\n\uf0a1Jenis pelampung terdiri dari jaket keselamatan (life jacket), rompi\nkeselamatan (life vest), rompi pengatur keterapungan (Bouyancy Control\nDevice) .\nPASAL 7AYAT 1\n\uf0a1Pengusaha atau Pengurus wajib melaksanakan manajemen APD di\ntempat kerja .\nPASAL 7AYAT 2\n\uf0a1Manajemen APD sebagaimana dimaksud pada ayat (1),meliputi :\n\u25aaIdentifikasi kebutuhan dan syarat APD ;\n\u25aaPemilihan APD yang sesuai dengan jenis bahaya dan kebutuhan/kenyamanan\nPekerja/Buruh ;\n\u25aaPelatihan ;\n\u25aaPenggunaan, perawatan, dan penyimpanan ;\n\u25aaPenatalaksanaan pembuangan atau pemusnahan ;\n\u25aaPembinaan ;\n\u25aaInspeksi ;dan\n\u25aaEvaluasi dan pelaporan .\n\uf0a1Mampu menghindari energi berbahaya pada keadaan\ntertentu\n\uf0a1Bahan yang dipakai berkualitas baik\n\uf0a1Bentuknya sesuai dengan bentuk tubuh\n\uf0a1Dirancang dengan baik dan memiliki penampilan yang\n\nDOCUMENT 4:\nmenarik\n\uf0a1Mudah untuk melakukan pekerjaan\n\uf0a1Mudah untuk dipakai dan menanggalkannya\n\uf0a1Tidak menimbulkan beban pada gerakan tubuh\n\uf0a1Memenuhi standard\n\uf0a1Memiliki sertifikat\n\n\uf0a1Dipilih dan dipakai sesuai dengan kondisi lingkungan, potensi\nbahaya dan waktu pemakaian\n\uf0a1Penggunaan secara benar sesuai dengan pentunjuk\npemakaian\n\uf0a1Tenaga kerja harus dilatih secara berkala baik pemakaian dan\npemeliharaan\n\uf0a1Laporkan apabila ada perubahan pada bagian APD\n\uf0a1Mengisi form logbook terkait dengan penggunaan APD\n\nPemeriksaan APD\n\uf0a1Periksa keberadaan\n\uf0a1Periksa kelengkapan\n\uf0a1Periksa fungsional\n\uf0a1Periksa kebersihan\nPerawatan\n\uf0a1Bersihkan dengan air bersih,\n\uf0a1Hindari penggunaan bahan kimia untuk membersihkan,\n\uf0a1Keringkan sebelum disimpan\nPenyimpanan\n\uf0a1Simpan sesuai dengan kelompoknya\n\uf0a1Jauhkan dari sinar matahari\n\uf0a1Simpan dengan ventilasi yang baik\n\uf0a1Jauhkan dengan peralatan yang mengeluarkan radiasi\n\uf0a1Jauhkan dari bahan kimia \n\nPASAL 8\n1) APD yang rusak, retak atau tidak dapat berfungsi dengan baik\n\nDOCUMENT 5:\n\uf0a1Dilakukan pekerjaan yang mengandung bahaya tertimbun tanah, kejatuhan,\nterkena pelantingan benda, terjatuh atau terperosok, hanyut atau terpelanting ;\n\uf0a1Dilakukan pekerjaan dalam ruang terbatas tangki, sumur atau lubang ;\n\uf0a1Terdapat atau menyebar suhu, kelembaban, debu, kotoran, api, asap, gas,\nhembusan angin, cuaca, sinar atau radiasi, suara atau getaran ;\n\uf0a1Alat pelindung dirimeliputi :\n\u25aaPelindung kepala,\n\u25aaPelindung mata dan muka,\n\u25aaPelindung telinga,\n\u25aaPelindung pernapasan beserta perlengkapannya,\n\u25aaPelindung tangan,\n\u25aaPelindung kaki.\n\uf0a1Yang termasuk APD,\n\u25aaPakaian pelindung,\n\u25aaAlat pelindung jatuh perorangan,\n\u25aaPelampung .\n\uf0a1Pakaian pelindung berfungsi untuk melindungi\nbadan sebagian atau seluruh bagian badan dari\nbahaya temperatur panas atau dingin yang\nekstrim, pajanan api dan benda -benda panas,\npercikan bahan -bahan kimia, cairan dan logam\npanas ,uap panas, benturan (impact) dengan\nmesin, peralatan dan bahan, tergores ,radiasi,\nbinatang, mikro -organisme patogen dari\n\nPERTANYAAN: berikan saya dokumen tentang APD\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:28:54,445 - rag-chatbot - INFO - Menyimpan riwayat kueri: 'berikan saya dokumen tentang APD'
2025-05-05 14:28:54,445 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:28:54,450 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:28:54,452 - rag-chatbot - ERROR - Error saat menyimpan riwayat kueri: expected 1536 dimensions, not 768

2025-05-05 14:28:54,452 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 200, in save_query_history
    cursor.execute(
psycopg2.errors.DataException: expected 1536 dimensions, not 768


2025-05-05 14:28:54,452 - rag-chatbot - ERROR - Error saat memproses kueri chat: expected 1536 dimensions, not 768

2025-05-05 14:28:54,452 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 316, in chat
    query_id = save_query_history(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 200, in save_query_history
    cursor.execute(
psycopg2.errors.DataException: expected 1536 dimensions, not 768


2025-05-05 14:30:13,614 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:30:13,614 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:30:13,614 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:30:13,641 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:30:13,641 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:30:13,641 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:13,646 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:13,646 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:30:13,650 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7762023673178301
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7732897400856072
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Hasil: chunk_id=9, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7325446169051769
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Hasil: chunk_id=10, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7174611260020074
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Hasil: chunk_id=4, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6719677839317579
2025-05-05 14:30:13,650 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:30:13,650 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:30:13,650 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\n\nDOCUMENT 2:\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\nDOCUMENT 3:\natau dipermukaan airagar terhindar dari bahaya tenggelam dan atau\nmengatur keterapungan (buoyancy) pengguna agar dapat berada pada\nposisi tenggelam (negative buoyant) atau melayang (neutral buoyant) di\ndalam air.\n\uf0a1Jenis pelampung terdiri dari jaket keselamatan (life jacket), rompi\nkeselamatan (life vest), rompi pengatur keterapungan (Bouyancy Control\nDevice) .\nPASAL 7AYAT 1\n\uf0a1Pengusaha atau Pengurus wajib melaksanakan manajemen APD di\ntempat kerja .\nPASAL 7AYAT 2\n\uf0a1Manajemen APD sebagaimana dimaksud pada ayat (1),meliputi :\n\u25aaIdentifikasi kebutuhan dan syarat APD ;\n\u25aaPemilihan APD yang sesuai dengan jenis bahaya dan kebutuhan/kenyamanan\nPekerja/Buruh ;\n\u25aaPelatihan ;\n\u25aaPenggunaan, perawatan, dan penyimpanan ;\n\u25aaPenatalaksanaan pembuangan atau pemusnahan ;\n\u25aaPembinaan ;\n\u25aaInspeksi ;dan\n\u25aaEvaluasi dan pelaporan .\n\uf0a1Mampu menghindari energi berbahaya pada keadaan\ntertentu\n\uf0a1Bahan yang dipakai berkualitas baik\n\uf0a1Bentuknya sesuai dengan bentuk tubuh\n\uf0a1Dirancang dengan baik dan memiliki penampilan yang\n\nDOCUMENT 4:\nmenarik\n\uf0a1Mudah untuk melakukan pekerjaan\n\uf0a1Mudah untuk dipakai dan menanggalkannya\n\uf0a1Tidak menimbulkan beban pada gerakan tubuh\n\uf0a1Memenuhi standard\n\uf0a1Memiliki sertifikat\n\n\uf0a1Dipilih dan dipakai sesuai dengan kondisi lingkungan, potensi\nbahaya dan waktu pemakaian\n\uf0a1Penggunaan secara benar sesuai dengan pentunjuk\npemakaian\n\uf0a1Tenaga kerja harus dilatih secara berkala baik pemakaian dan\npemeliharaan\n\uf0a1Laporkan apabila ada perubahan pada bagian APD\n\uf0a1Mengisi form logbook terkait dengan penggunaan APD\n\nPemeriksaan APD\n\uf0a1Periksa keberadaan\n\uf0a1Periksa kelengkapan\n\uf0a1Periksa fungsional\n\uf0a1Periksa kebersihan\nPerawatan\n\uf0a1Bersihkan dengan air bersih,\n\uf0a1Hindari penggunaan bahan kimia untuk membersihkan,\n\uf0a1Keringkan sebelum disimpan\nPenyimpanan\n\uf0a1Simpan sesuai dengan kelompoknya\n\uf0a1Jauhkan dari sinar matahari\n\uf0a1Simpan dengan ventilasi yang baik\n\uf0a1Jauhkan dengan peralatan yang mengeluarkan radiasi\n\uf0a1Jauhkan dari bahan kimia \n\nPASAL 8\n1) APD yang rusak, retak atau tidak dapat berfungsi dengan baik\n\nDOCUMENT 5:\n\uf0a1Dilakukan pekerjaan yang mengandung bahaya tertimbun tanah, kejatuhan,\nterkena pelantingan benda, terjatuh atau terperosok, hanyut atau terpelanting ;\n\uf0a1Dilakukan pekerjaan dalam ruang terbatas tangki, sumur atau lubang ;\n\uf0a1Terdapat atau menyebar suhu, kelembaban, debu, kotoran, api, asap, gas,\nhembusan angin, cuaca, sinar atau radiasi, suara atau getaran ;\n\uf0a1Alat pelindung dirimeliputi :\n\u25aaPelindung kepala,\n\u25aaPelindung mata dan muka,\n\u25aaPelindung telinga,\n\u25aaPelindung pernapasan beserta perlengkapannya,\n\u25aaPelindung tangan,\n\u25aaPelindung kaki.\n\uf0a1Yang termasuk APD,\n\u25aaPakaian pelindung,\n\u25aaAlat pelindung jatuh perorangan,\n\u25aaPelampung .\n\uf0a1Pakaian pelindung berfungsi untuk melindungi\nbadan sebagian atau seluruh bagian badan dari\nbahaya temperatur panas atau dingin yang\nekstrim, pajanan api dan benda -benda panas,\npercikan bahan -bahan kimia, cairan dan logam\npanas ,uap panas, benturan (impact) dengan\nmesin, peralatan dan bahan, tergores ,radiasi,\nbinatang, mikro -organisme patogen dari\n\nPERTANYAAN: berikan saya dokumen tentang APD\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:30:17,886 - rag-chatbot - INFO - Menyimpan riwayat kueri: 'berikan saya dokumen tentang APD'
2025-05-05 14:30:17,887 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,893 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,906 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 1
2025-05-05 14:30:17,906 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 1
2025-05-05 14:30:17,906 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,911 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,913 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 1
2025-05-05 14:30:17,914 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,918 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,919 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 1
2025-05-05 14:30:17,919 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,923 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,924 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 1
2025-05-05 14:30:17,924 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,926 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,927 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 1
2025-05-05 14:30:17,927 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:30:17,930 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:30:17,931 - rag-chatbot - ERROR - Global error handler caught: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'answer'), 'msg': 'Input should be a valid string', 'input': PredictionResult(content='Berikut adalah beberapa dokumen yang relevan dengan Alat Pelindung Diri (APD) berdasarkan permintaan Anda:\n\n1. **DOCUMENT 1**: \n   - Pasal 2 Ayat 2 memerintahkan bahwa APD harus sesuai dengan Standar Nasional Indonesia (SNI) atau standar yang berlaku.\n   - Pasal 2 Ayat 3 menyebutkan bahwa APD wajib diberikan oleh pengusaha secara cuma-cuma.\n   - Pasal 6 Ayat 1 menjelaskan bahwa pekerja/buruh harus memakai APD sesuai dengan potensi bahaya dan risiko di tempat kerja. \n   - Pasal 6 Ayat 2 memberi hak kepada pekerja untuk menolak pekerjaan jika APD yang disediakan tidak memenuhi ketentuan.\n   - Definisi APD sebagai alat yang memiliki kemampuan melindungi seseorang dari bahaya di tempat kerja.\n\n2. **DOCUMENT 3**: \n   - Pasal 7 Ayat 1 dan 7 Ayat 2 mendiskusikan manajemen APD, termasuk identifikasi kebutuhan, pemilihan, pelatihan, penggunaan, perawatan, penyimpanan, pembuangan, dan evaluasi.\n\n3. **DOCUMENT 4**: \n   - Membahas pemeriksaan APD (periksa keberadaan, kelengkapan, fungsional, dan kebersihan), perawatan (bersihkan dengan air bersih, hindari penggunaan bahan kimia, keringkan sebelum disimpan), penyimpanan (simpan sesuai kelompoknya, jauhkan dari sinar matahari, simpan dengan ventilasi baik), dan pemeriksaan lainnya.\n\n4. **DOCUMENT 5**: \n   - Memberikan contoh pekerjaan yang memerlukan APD seperti pekerjaan tertimbun tanah, pelantingan benda, atau dalam ruang terbatas. Termasuk dalam kategori APD adalah pakaian pelindung dan alat pelindung jatuh perorangan.\n\nSaya telah mencantumkan dokumen-dokumen yang relevan dengan topik Alat Pelindung Diri (APD) berdasarkan permintaan Anda. Dokumen ini mendukung aspek hukum, manajemen, dan praktis penggunaan APD di tempat kerja.')}

2025-05-05 14:30:17,933 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'answer'), 'msg': 'Input should be a valid string', 'input': PredictionResult(content='Berikut adalah beberapa dokumen yang relevan dengan Alat Pelindung Diri (APD) berdasarkan permintaan Anda:\n\n1. **DOCUMENT 1**: \n   - Pasal 2 Ayat 2 memerintahkan bahwa APD harus sesuai dengan Standar Nasional Indonesia (SNI) atau standar yang berlaku.\n   - Pasal 2 Ayat 3 menyebutkan bahwa APD wajib diberikan oleh pengusaha secara cuma-cuma.\n   - Pasal 6 Ayat 1 menjelaskan bahwa pekerja/buruh harus memakai APD sesuai dengan potensi bahaya dan risiko di tempat kerja. \n   - Pasal 6 Ayat 2 memberi hak kepada pekerja untuk menolak pekerjaan jika APD yang disediakan tidak memenuhi ketentuan.\n   - Definisi APD sebagai alat yang memiliki kemampuan melindungi seseorang dari bahaya di tempat kerja.\n\n2. **DOCUMENT 3**: \n   - Pasal 7 Ayat 1 dan 7 Ayat 2 mendiskusikan manajemen APD, termasuk identifikasi kebutuhan, pemilihan, pelatihan, penggunaan, perawatan, penyimpanan, pembuangan, dan evaluasi.\n\n3. **DOCUMENT 4**: \n   - Membahas pemeriksaan APD (periksa keberadaan, kelengkapan, fungsional, dan kebersihan), perawatan (bersihkan dengan air bersih, hindari penggunaan bahan kimia, keringkan sebelum disimpan), penyimpanan (simpan sesuai kelompoknya, jauhkan dari sinar matahari, simpan dengan ventilasi baik), dan pemeriksaan lainnya.\n\n4. **DOCUMENT 5**: \n   - Memberikan contoh pekerjaan yang memerlukan APD seperti pekerjaan tertimbun tanah, pelantingan benda, atau dalam ruang terbatas. Termasuk dalam kategori APD adalah pakaian pelindung dan alat pelindung jatuh perorangan.\n\nSaya telah mencantumkan dokumen-dokumen yang relevan dengan topik Alat Pelindung Diri (APD) berdasarkan permintaan Anda. Dokumen ini mendukung aspek hukum, manajemen, dan praktis penggunaan APD di tempat kerja.')}


2025-05-05 14:32:57,066 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:57,066 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:57,067 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:32:57,067 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:32:57,067 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:57,068 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:57,068 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:57,068 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:57,068 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:32:57,068 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:32:57,068 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:57,068 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,307 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:32:58,308 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,308 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:32:58,308 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:32:58,309 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:32:58,327 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:32:58,328 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7a573ade9520>
2025-05-05 14:32:58,328 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:32:58,328 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:32:58,328 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:32:58,328 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:32:58,328 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:32:58,329 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'M9hdehdiAaODn+pWh6R65G1Ah3A=')])
2025-05-05 14:32:58,329 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:32:58,329 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,330 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,330 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,330 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:32:58,332 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:32:58,332 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:32:58,332 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,333 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:32:58,333 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:32:58,333 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:32:58,349 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:32:58,350 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7a573a9f4110>
2025-05-05 14:32:58,350 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:32:58,350 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:32:58,350 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:32:58,350 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:32:58,350 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:32:58,351 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'yq8pPbNGOnpqA8IN1h+1TZeENsY=')])
2025-05-05 14:32:58,351 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:32:58,351 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,351 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,351 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,351 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,352 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:32:58,352 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:32:58,366 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:33:05,495 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya dokumen tentang APD'
2025-05-05 14:33:05,502 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:33:05,503 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan saya dokumen tentang APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:33:05,525 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:33:05,525 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:33:05,525 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:05,532 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:05,532 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:33:05,538 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7762023673178301
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7732897400856072
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Hasil: chunk_id=9, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7325446169051769
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Hasil: chunk_id=10, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7174611260020074
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Hasil: chunk_id=4, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6719677839317579
2025-05-05 14:33:05,539 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:33:05,539 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:33:05,541 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\n\nDOCUMENT 2:\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\nDOCUMENT 3:\natau dipermukaan airagar terhindar dari bahaya tenggelam dan atau\nmengatur keterapungan (buoyancy) pengguna agar dapat berada pada\nposisi tenggelam (negative buoyant) atau melayang (neutral buoyant) di\ndalam air.\n\uf0a1Jenis pelampung terdiri dari jaket keselamatan (life jacket), rompi\nkeselamatan (life vest), rompi pengatur keterapungan (Bouyancy Control\nDevice) .\nPASAL 7AYAT 1\n\uf0a1Pengusaha atau Pengurus wajib melaksanakan manajemen APD di\ntempat kerja .\nPASAL 7AYAT 2\n\uf0a1Manajemen APD sebagaimana dimaksud pada ayat (1),meliputi :\n\u25aaIdentifikasi kebutuhan dan syarat APD ;\n\u25aaPemilihan APD yang sesuai dengan jenis bahaya dan kebutuhan/kenyamanan\nPekerja/Buruh ;\n\u25aaPelatihan ;\n\u25aaPenggunaan, perawatan, dan penyimpanan ;\n\u25aaPenatalaksanaan pembuangan atau pemusnahan ;\n\u25aaPembinaan ;\n\u25aaInspeksi ;dan\n\u25aaEvaluasi dan pelaporan .\n\uf0a1Mampu menghindari energi berbahaya pada keadaan\ntertentu\n\uf0a1Bahan yang dipakai berkualitas baik\n\uf0a1Bentuknya sesuai dengan bentuk tubuh\n\uf0a1Dirancang dengan baik dan memiliki penampilan yang\n\nDOCUMENT 4:\nmenarik\n\uf0a1Mudah untuk melakukan pekerjaan\n\uf0a1Mudah untuk dipakai dan menanggalkannya\n\uf0a1Tidak menimbulkan beban pada gerakan tubuh\n\uf0a1Memenuhi standard\n\uf0a1Memiliki sertifikat\n\n\uf0a1Dipilih dan dipakai sesuai dengan kondisi lingkungan, potensi\nbahaya dan waktu pemakaian\n\uf0a1Penggunaan secara benar sesuai dengan pentunjuk\npemakaian\n\uf0a1Tenaga kerja harus dilatih secara berkala baik pemakaian dan\npemeliharaan\n\uf0a1Laporkan apabila ada perubahan pada bagian APD\n\uf0a1Mengisi form logbook terkait dengan penggunaan APD\n\nPemeriksaan APD\n\uf0a1Periksa keberadaan\n\uf0a1Periksa kelengkapan\n\uf0a1Periksa fungsional\n\uf0a1Periksa kebersihan\nPerawatan\n\uf0a1Bersihkan dengan air bersih,\n\uf0a1Hindari penggunaan bahan kimia untuk membersihkan,\n\uf0a1Keringkan sebelum disimpan\nPenyimpanan\n\uf0a1Simpan sesuai dengan kelompoknya\n\uf0a1Jauhkan dari sinar matahari\n\uf0a1Simpan dengan ventilasi yang baik\n\uf0a1Jauhkan dengan peralatan yang mengeluarkan radiasi\n\uf0a1Jauhkan dari bahan kimia \n\nPASAL 8\n1) APD yang rusak, retak atau tidak dapat berfungsi dengan baik\n\nDOCUMENT 5:\n\uf0a1Dilakukan pekerjaan yang mengandung bahaya tertimbun tanah, kejatuhan,\nterkena pelantingan benda, terjatuh atau terperosok, hanyut atau terpelanting ;\n\uf0a1Dilakukan pekerjaan dalam ruang terbatas tangki, sumur atau lubang ;\n\uf0a1Terdapat atau menyebar suhu, kelembaban, debu, kotoran, api, asap, gas,\nhembusan angin, cuaca, sinar atau radiasi, suara atau getaran ;\n\uf0a1Alat pelindung dirimeliputi :\n\u25aaPelindung kepala,\n\u25aaPelindung mata dan muka,\n\u25aaPelindung telinga,\n\u25aaPelindung pernapasan beserta perlengkapannya,\n\u25aaPelindung tangan,\n\u25aaPelindung kaki.\n\uf0a1Yang termasuk APD,\n\u25aaPakaian pelindung,\n\u25aaAlat pelindung jatuh perorangan,\n\u25aaPelampung .\n\uf0a1Pakaian pelindung berfungsi untuk melindungi\nbadan sebagian atau seluruh bagian badan dari\nbahaya temperatur panas atau dingin yang\nekstrim, pajanan api dan benda -benda panas,\npercikan bahan -bahan kimia, cairan dan logam\npanas ,uap panas, benturan (impact) dengan\nmesin, peralatan dan bahan, tergores ,radiasi,\nbinatang, mikro -organisme patogen dari\n\nPERTANYAAN: berikan saya dokumen tentang APD\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:33:08,478 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'berikan saya dokumen tentang APD'
2025-05-05 14:33:08,479 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,485 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:08,496 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 2
2025-05-05 14:33:08,496 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 2
2025-05-05 14:33:08,496 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,501 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:08,503 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 2
2025-05-05 14:33:08,503 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,508 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:08,509 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 2
2025-05-05 14:33:08,509 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,514 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:08,516 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 2
2025-05-05 14:33:08,516 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,519 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:08,521 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 2
2025-05-05 14:33:08,521 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:08,525 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:38,607 - rag-chatbot - INFO - Menerima kueri chat: 'tentang apa iso 3001'
2025-05-05 14:33:38,607 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:33:38,607 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "tentang apa iso 3001", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:33:38,633 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:33:38,633 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:33:38,633 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:38,637 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:38,637 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:33:38,641 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Hasil: chunk_id=14, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.7096484688029178
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Hasil: chunk_id=13, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.7091491011038719
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Hasil: chunk_id=12, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6966557556371301
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6562363887185464
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Hasil: chunk_id=16, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6167006447941644
2025-05-05 14:33:38,641 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:33:38,641 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:33:38,641 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nISO juga merancang standar ISO 21500 Guidance on Project Management untuk menyelaraskan dengan ISO 31000:2018.\n\nKomite Proyek ISO/PC 317 menerbitkan ISO 31700 Perlindungan Konsumen - privasi berdasarkan desain untuk barang dan jasa konsumen pada Januari 2023.\nCakupan\n\nISO 31000:2018 menyediakan seperangkat prinsip, pedoman untuk desain, implementasi kerangka kerja manajemen risiko dan rekomendasi untuk penerapan proses manajemen risiko. Proses manajemen risiko seperti yang dijelaskan dalam ISO 31000 dapat diterapkan pada aktivitas apa pun, termasuk pengambilan keputusan di semua tingkatan.\n\nPerbedaan antara istilah kerangka kerja manajemen risiko dan proses manajemen risiko dijelaskan oleh ISO sebagai berikut:\n\nDOCUMENT 2:\nPada tahun 2020, ISO/TC 262, komite yang bertanggung jawab atas kelompok standar ini, telah menerbitkan lima standar, sementara empat standar tambahan sedang dalam tahap pengusulan/pengembangan.\n\nPublished standards :\n\n    ISO 31000:2018 - Risk management - Guidelines\n    ISO/TR 31004:2013 - Risk management - Guidance for the implementation of ISO 31000\n    ISO/IEC 31010:2019 - Risk management - Risk assessment techniques\n    ISO 31022:2020 - Risk management - Guidelines for the management of legal risk\n    ISO 31030:2021 Travel risk management \u2014 Guidance for organizations\n    IWA 31:2020 - Risk management - Guidelines on using ISO 31000 in management systems\n\nStandards under development:\n\n    ISO/AWI 31073 - Risk management - Vocabulary\n    ISO/WD 31050 - Guidance for managing emerging risks to enhance resilience\n    ISO/CD 31070 - Risk management - Guidelines on core concepts\n\nDOCUMENT 3:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 4:\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\n\nDOCUMENT 5:\nRuang lingkup pendekatan manajemen risiko ini adalah untuk memungkinkan semua tugas strategis, manajemen dan operasional organisasi di seluruh proyek, fungsi, dan proses untuk diselaraskan dengan seperangkat tujuan manajemen risiko yang sama.\n\nOleh karena itu, ISO 31000 ditujukan untuk kelompok pemangku kepentingan yang luas, termasuk:\n\n    Pemangku kepentingan tingkat eksekutif\n\n    Pemegang jabatan dalam kelompok manajemen risiko perusahaan\n\n    Analis risiko dan pejabat manajemen\n\n    Manajer lini dan manajer proyek\n\n    Auditor kepatuhan dan internal\n\n    Praktisi independen.\n\nPERTANYAAN: tentang apa iso 3001\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:33:39,691 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'tentang apa iso 3001'
2025-05-05 14:33:39,691 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,697 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:39,708 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 3
2025-05-05 14:33:39,708 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 3
2025-05-05 14:33:39,708 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,714 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:39,716 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 3
2025-05-05 14:33:39,716 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,720 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:39,721 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 3
2025-05-05 14:33:39,721 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,726 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:39,727 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 3
2025-05-05 14:33:39,728 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,731 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:33:39,732 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 3
2025-05-05 14:33:39,732 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:33:39,737 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:35,226 - rag-chatbot - INFO - Menerima kueri chat: 'ISO 3001'
2025-05-05 14:34:35,226 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:34:35,226 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "embedString", "parameter": {"inputString": "ISO 3001", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:34:35,252 - RemoteCallHandler - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:34:35,252 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:34:35,252 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:35,255 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:35,255 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:34:35,259 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Hasil: chunk_id=13, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6204509961336269
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Hasil: chunk_id=18, dokumen=b652717b-2882-49f6-b2b5-5574815dbbea.txt, similarity=0.6204509961336269
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Hasil: chunk_id=23, dokumen=fc445e07-bfc0-4c72-8e0e-8021db6327e1.txt, similarity=0.6204509961336269
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Hasil: chunk_id=14, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6131067506607334
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Hasil: chunk_id=19, dokumen=b652717b-2882-49f6-b2b5-5574815dbbea.txt, similarity=0.6131067506607334
2025-05-05 14:34:35,259 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:34:35,259 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:34:35,260 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nPada tahun 2020, ISO/TC 262, komite yang bertanggung jawab atas kelompok standar ini, telah menerbitkan lima standar, sementara empat standar tambahan sedang dalam tahap pengusulan/pengembangan.\n\nPublished standards :\n\n    ISO 31000:2018 - Risk management - Guidelines\n    ISO/TR 31004:2013 - Risk management - Guidance for the implementation of ISO 31000\n    ISO/IEC 31010:2019 - Risk management - Risk assessment techniques\n    ISO 31022:2020 - Risk management - Guidelines for the management of legal risk\n    ISO 31030:2021 Travel risk management \u2014 Guidance for organizations\n    IWA 31:2020 - Risk management - Guidelines on using ISO 31000 in management systems\n\nStandards under development:\n\n    ISO/AWI 31073 - Risk management - Vocabulary\n    ISO/WD 31050 - Guidance for managing emerging risks to enhance resilience\n    ISO/CD 31070 - Risk management - Guidelines on core concepts\n\nDOCUMENT 2:\nPada tahun 2020, ISO/TC 262, komite yang bertanggung jawab atas kelompok standar ini, telah menerbitkan lima standar, sementara empat standar tambahan sedang dalam tahap pengusulan/pengembangan.\n\nPublished standards :\n\n    ISO 31000:2018 - Risk management - Guidelines\n    ISO/TR 31004:2013 - Risk management - Guidance for the implementation of ISO 31000\n    ISO/IEC 31010:2019 - Risk management - Risk assessment techniques\n    ISO 31022:2020 - Risk management - Guidelines for the management of legal risk\n    ISO 31030:2021 Travel risk management \u2014 Guidance for organizations\n    IWA 31:2020 - Risk management - Guidelines on using ISO 31000 in management systems\n\nStandards under development:\n\n    ISO/AWI 31073 - Risk management - Vocabulary\n    ISO/WD 31050 - Guidance for managing emerging risks to enhance resilience\n    ISO/CD 31070 - Risk management - Guidelines on core concepts\n\nDOCUMENT 3:\nPada tahun 2020, ISO/TC 262, komite yang bertanggung jawab atas kelompok standar ini, telah menerbitkan lima standar, sementara empat standar tambahan sedang dalam tahap pengusulan/pengembangan.\n\nPublished standards :\n\n    ISO 31000:2018 - Risk management - Guidelines\n    ISO/TR 31004:2013 - Risk management - Guidance for the implementation of ISO 31000\n    ISO/IEC 31010:2019 - Risk management - Risk assessment techniques\n    ISO 31022:2020 - Risk management - Guidelines for the management of legal risk\n    ISO 31030:2021 Travel risk management \u2014 Guidance for organizations\n    IWA 31:2020 - Risk management - Guidelines on using ISO 31000 in management systems\n\nStandards under development:\n\n    ISO/AWI 31073 - Risk management - Vocabulary\n    ISO/WD 31050 - Guidance for managing emerging risks to enhance resilience\n    ISO/CD 31070 - Risk management - Guidelines on core concepts\n\nDOCUMENT 4:\nISO juga merancang standar ISO 21500 Guidance on Project Management untuk menyelaraskan dengan ISO 31000:2018.\n\nKomite Proyek ISO/PC 317 menerbitkan ISO 31700 Perlindungan Konsumen - privasi berdasarkan desain untuk barang dan jasa konsumen pada Januari 2023.\nCakupan\n\nISO 31000:2018 menyediakan seperangkat prinsip, pedoman untuk desain, implementasi kerangka kerja manajemen risiko dan rekomendasi untuk penerapan proses manajemen risiko. Proses manajemen risiko seperti yang dijelaskan dalam ISO 31000 dapat diterapkan pada aktivitas apa pun, termasuk pengambilan keputusan di semua tingkatan.\n\nPerbedaan antara istilah kerangka kerja manajemen risiko dan proses manajemen risiko dijelaskan oleh ISO sebagai berikut:\n\nDOCUMENT 5:\nISO juga merancang standar ISO 21500 Guidance on Project Management untuk menyelaraskan dengan ISO 31000:2018.\n\nKomite Proyek ISO/PC 317 menerbitkan ISO 31700 Perlindungan Konsumen - privasi berdasarkan desain untuk barang dan jasa konsumen pada Januari 2023.\nCakupan\n\nISO 31000:2018 menyediakan seperangkat prinsip, pedoman untuk desain, implementasi kerangka kerja manajemen risiko dan rekomendasi untuk penerapan proses manajemen risiko. Proses manajemen risiko seperti yang dijelaskan dalam ISO 31000 dapat diterapkan pada aktivitas apa pun, termasuk pengambilan keputusan di semua tingkatan.\n\nPerbedaan antara istilah kerangka kerja manajemen risiko dan proses manajemen risiko dijelaskan oleh ISO sebagai berikut:\n\nPERTANYAAN: ISO 3001\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:34:36,312 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'ISO 3001'
2025-05-05 14:34:36,312 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,315 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:36,329 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 4
2025-05-05 14:34:36,329 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 4
2025-05-05 14:34:36,329 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,334 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:36,336 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 7 dari kueri ID 4
2025-05-05 14:34:36,336 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,340 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:36,341 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 8 dari kueri ID 4
2025-05-05 14:34:36,341 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,346 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:36,347 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 4
2025-05-05 14:34:36,347 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,352 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:34:36,353 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 7 dari kueri ID 4
2025-05-05 14:34:36,353 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:34:36,356 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:18,107 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen yang diambil di wikipedia'
2025-05-05 14:35:18,107 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:35:18,108 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "embedString", "parameter": {"inputString": "dokumen yang diambil di wikipedia", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:35:18,134 - RemoteCallHandler - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:35:18,134 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:35:18,134 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:18,138 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:18,138 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:35:18,142 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Hasil: chunk_id=12, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6785757360720317
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Hasil: chunk_id=17, dokumen=b652717b-2882-49f6-b2b5-5574815dbbea.txt, similarity=0.6785757360720317
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Hasil: chunk_id=22, dokumen=fc445e07-bfc0-4c72-8e0e-8021db6327e1.txt, similarity=0.6785757360720317
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6253099814242125
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Hasil: chunk_id=4, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6027422784124458
2025-05-05 14:35:18,142 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:35:18,142 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:35:18,142 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 2:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 3:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 4:\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\nDOCUMENT 5:\n\uf0a1Dilakukan pekerjaan yang mengandung bahaya tertimbun tanah, kejatuhan,\nterkena pelantingan benda, terjatuh atau terperosok, hanyut atau terpelanting ;\n\uf0a1Dilakukan pekerjaan dalam ruang terbatas tangki, sumur atau lubang ;\n\uf0a1Terdapat atau menyebar suhu, kelembaban, debu, kotoran, api, asap, gas,\nhembusan angin, cuaca, sinar atau radiasi, suara atau getaran ;\n\uf0a1Alat pelindung dirimeliputi :\n\u25aaPelindung kepala,\n\u25aaPelindung mata dan muka,\n\u25aaPelindung telinga,\n\u25aaPelindung pernapasan beserta perlengkapannya,\n\u25aaPelindung tangan,\n\u25aaPelindung kaki.\n\uf0a1Yang termasuk APD,\n\u25aaPakaian pelindung,\n\u25aaAlat pelindung jatuh perorangan,\n\u25aaPelampung .\n\uf0a1Pakaian pelindung berfungsi untuk melindungi\nbadan sebagian atau seluruh bagian badan dari\nbahaya temperatur panas atau dingin yang\nekstrim, pajanan api dan benda -benda panas,\npercikan bahan -bahan kimia, cairan dan logam\npanas ,uap panas, benturan (impact) dengan\nmesin, peralatan dan bahan, tergores ,radiasi,\nbinatang, mikro -organisme patogen dari\n\nPERTANYAAN: dokumen yang diambil di wikipedia\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:35:20,048 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen yang diambil di wikipedia'
2025-05-05 14:35:20,048 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,054 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:20,057 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 5
2025-05-05 14:35:20,057 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 5
2025-05-05 14:35:20,057 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,061 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:20,063 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 7 dari kueri ID 5
2025-05-05 14:35:20,063 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,068 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:20,069 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 8 dari kueri ID 5
2025-05-05 14:35:20,069 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,074 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:20,075 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 5
2025-05-05 14:35:20,075 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,080 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:35:20,081 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 5
2025-05-05 14:35:20,081 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:35:20,086 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,079 - rag-chatbot - INFO - Menerima kueri chat: 'lebih detil'
2025-05-05 14:38:21,079 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:38:21,079 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "embedString", "parameter": {"inputString": "lebih detil", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:38:21,104 - RemoteCallHandler - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:38:21,105 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:38:21,105 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,108 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,108 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:38:21,112 - rag-chatbot - INFO - Pencarian mengembalikan 4 hasil
2025-05-05 14:38:21,112 - rag-chatbot - DEBUG - Hasil: chunk_id=12, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.5034337793937053
2025-05-05 14:38:21,112 - rag-chatbot - DEBUG - Hasil: chunk_id=17, dokumen=b652717b-2882-49f6-b2b5-5574815dbbea.txt, similarity=0.5034337793937053
2025-05-05 14:38:21,112 - rag-chatbot - DEBUG - Hasil: chunk_id=22, dokumen=fc445e07-bfc0-4c72-8e0e-8021db6327e1.txt, similarity=0.5034337793937053
2025-05-05 14:38:21,112 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.5018153489718058
2025-05-05 14:38:21,112 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:38:21,112 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:38:21,112 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 2:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 3:\nDOKUMEN INI DIAMBIL DARI WIKIPEDIA\n\nISO 31000 adalah keluarga standar internasional pedoman penerapan manajemen risiko yang diterbitkan oleh International Organization for Standardization. Standar yang diterbitkan pada 13 November 2009 ini merupakan pengembangan standar AS/NZS 4360:2004 yang dikeluarkan oleh Standards Australia. ISO 31000 tidak dikembangkan untuk tujuan sertifikasi. ISO 31000 ini berisi panduan umum dan prinsip- prinsip yang digunakan untuk mengelola risiko yang mungkin berdampak buruk bagi organisasi karena dapat mempengaruhi reputasi organisasi dan kinerja ekonomi.\n\n\nISO 31000 berupaya menyediakan paradigma yang diakui secara universal bagi para praktisi dan perusahaan yang menggunakan proses manajemen risiko untuk menggantikan berbagai standar, metodologi, dan paradigma yang ada, yang berbeda antara industri, subjek, dan wilayah. Untuk tujuan ini, rekomendasi yang diberikan dalam ISO 31000 dapat disesuaikan dengan organisasi dan konteksnya.\n\nDOCUMENT 4:\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\nPERTANYAAN: lebih detil\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:38:21,932 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'lebih detil'
2025-05-05 14:38:21,932 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,938 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,949 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 6
2025-05-05 14:38:21,949 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 6
2025-05-05 14:38:21,949 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,952 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,954 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 7 dari kueri ID 6
2025-05-05 14:38:21,954 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,959 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,961 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 8 dari kueri ID 6
2025-05-05 14:38:21,961 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,966 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:38:21,968 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 6
2025-05-05 14:38:21,968 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:38:21,972 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:32,339 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen bekerja di ketinggian'
2025-05-05 14:41:32,339 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:41:32,339 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "embedString", "parameter": {"inputString": "dokumen bekerja di ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:41:32,361 - RemoteCallHandler - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:41:32,361 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:41:32,361 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:32,366 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:32,366 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:41:32,371 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Hasil: chunk_id=3, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6746710136728886
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Hasil: chunk_id=4, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6729442271060673
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Hasil: chunk_id=6, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6727733406098675
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Hasil: chunk_id=5, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.665780464755335
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Hasil: chunk_id=16, dokumen=48de4a4f-3b93-40b1-9a4d-238c045fe2ad.txt, similarity=0.6585092544555711
2025-05-05 14:41:32,371 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:41:32,371 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:41:32,371 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 6, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nmesin yang digunakan pada saat bekerja \nsehingga menimbulkan kecelakaan / cacat / \nluka / penyakit akibat kerja.\n\uf0a1Dibuat, dicoba, dipakai atau dipergunakan mesin, pesawat, alat perkakas,\nperalatan atau instalasi yang berbahaya yang dapat menimbulkan kecelakaan,\nkebakaran atau peledakan ;\n\uf0a1Dibuat, diolah, dipakai, dipergunakan, diperdagangkan, diangkut atau disimpan\nbahan atau barang yang dapat meledak, mudah terbakar, korosif, beracun,\nmenimbulkan infeksi, bersuhu tinggi atau bersuhu rendah ;\n\uf0a1Dikerjakan pembangunan ,perbaikan, perawatan, pembersihan atau pembongkaran\nrumah, gedung atau bangunan lainnya termasuk bangunan perairan ,saluran atau\nterowongan dibawah tanah dan sebagainya atau dimana dilakukan pekerjaan\npersiapan ;\n\uf0a1Dilakukan penyelaman ,pengambilan benda dan pekerjaan laindidalam air;\n\uf0a1Dilakukan pekerjaan pada ketinggian diatas permukaan tanah atau perairan ;\n\uf0a1Dilakukan pekerjaan dibawah tekanan udara atau suhu yang tinggi atau rendah ;\n\nDOCUMENT 2:\n\uf0a1Dilakukan pekerjaan yang mengandung bahaya tertimbun tanah, kejatuhan,\nterkena pelantingan benda, terjatuh atau terperosok, hanyut atau terpelanting ;\n\uf0a1Dilakukan pekerjaan dalam ruang terbatas tangki, sumur atau lubang ;\n\uf0a1Terdapat atau menyebar suhu, kelembaban, debu, kotoran, api, asap, gas,\nhembusan angin, cuaca, sinar atau radiasi, suara atau getaran ;\n\uf0a1Alat pelindung dirimeliputi :\n\u25aaPelindung kepala,\n\u25aaPelindung mata dan muka,\n\u25aaPelindung telinga,\n\u25aaPelindung pernapasan beserta perlengkapannya,\n\u25aaPelindung tangan,\n\u25aaPelindung kaki.\n\uf0a1Yang termasuk APD,\n\u25aaPakaian pelindung,\n\u25aaAlat pelindung jatuh perorangan,\n\u25aaPelampung .\n\uf0a1Pakaian pelindung berfungsi untuk melindungi\nbadan sebagian atau seluruh bagian badan dari\nbahaya temperatur panas atau dingin yang\nekstrim, pajanan api dan benda -benda panas,\npercikan bahan -bahan kimia, cairan dan logam\npanas ,uap panas, benturan (impact) dengan\nmesin, peralatan dan bahan, tergores ,radiasi,\nbinatang, mikro -organisme patogen dari\n\nDOCUMENT 3:\n\uf0a1Jenis Pelindung kaki berupa sepatu\nkeselamatan pada pekerjaan peleburan,\npengecoran logam, industri, kontruksi\nbangunan, pekerjaan yang berpotensi bahaya\npeledakan, bahaya listrik, tempat kerja yang\nbasah atau licin, bahan kimia dan jasad renik,\ndan/atau bahaya binatang dan lain-lain.\n\n\uf0a1Pelindung tangan (sarung tangan) adalah alat\npelindung yang berfungsi untuk melindungi\ntangan dan jari-jaritangan dari pajanan api, suhu\npanas, suhu dingin, radiasi elektromagnetik,\nradiasi mengion, arus listrik, bahan kimia,\nbenturan, pukulan dan tergores, terinfeksi zat\npatogen (virus, bakteri) dan jasad renik .\n\uf0a1Jenis pelindung tangan terdiri dari sarung tangan\nyang terbuat dari logam, kulit, kain kanvas, kain\natau kain berpelapis, karet, dan sarung tangan\nyang tahan bahan kimia .\n\n\n\uf0a1Alat pelindung mata dan muka adalah alat\npelindung yang berfungsi untuk melindungi\nmata dan muka dari paparan bahan kimia\nberbahaya, paparan partikel -partikel yang\nmelayang diudara dan dibadan air, percikan\n\nDOCUMENT 4:\nmanusia, binatang, tumbuhan dan lingkungan\nseperti virus, bakteri dan jamur .\n\uf0a1Jenis pakaian pelindung terdiri dari rompi\n(Vests), celemek (Apron/Coveralls), Jacket ,dan\npakaian pelindung yang menutupi sebagian\natau seluruh bagian badan .\n\n\uf0a1Alat pelindung kepala adalah alat pelindung\nyang berfungsi untuk melindungi kepala dari\nbenturan, terantuk, kejatuhan atau terpukul\nbenda tajam atau benda keras yang melayang\natau meluncur diudara, terpapar oleh radiasi\npanas, api, percikan bahan -bahan kimia, jasad\nrenik (mikro organisme) dan suhu yang ekstrim .\n\uf0a1Jenis alat pelindung kepala terdiri dari helm\npengaman (safety helmet), topi atau tudung\nkepala, penutup atau pengaman rambut, dan lain-\nlain.\n\n\uf0a1Alat pelindung kaki berfungsi untuk melindungi\nkaki dari tertimpa atau berbenturan dengan\nbenda -benda berat, tertusuk benda tajam,\nterkena cairan panas atau dingin, uap panas,\nterpajan suhu yang ekstrim, terkena bahan kimia\nberbahaya dan jasad renik, tergelincir .\n\nDOCUMENT 5:\nRuang lingkup pendekatan manajemen risiko ini adalah untuk memungkinkan semua tugas strategis, manajemen dan operasional organisasi di seluruh proyek, fungsi, dan proses untuk diselaraskan dengan seperangkat tujuan manajemen risiko yang sama.\n\nOleh karena itu, ISO 31000 ditujukan untuk kelompok pemangku kepentingan yang luas, termasuk:\n\n    Pemangku kepentingan tingkat eksekutif\n\n    Pemegang jabatan dalam kelompok manajemen risiko perusahaan\n\n    Analis risiko dan pejabat manajemen\n\n    Manajer lini dan manajer proyek\n\n    Auditor kepatuhan dan internal\n\n    Praktisi independen.\n\nPERTANYAAN: dokumen bekerja di ketinggian\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:41:33,768 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen bekerja di ketinggian'
2025-05-05 14:41:33,768 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,774 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:33,785 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 7
2025-05-05 14:41:33,785 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 7
2025-05-05 14:41:33,785 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,788 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:33,789 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 7
2025-05-05 14:41:33,789 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,794 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:33,796 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 7
2025-05-05 14:41:33,796 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,801 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:33,803 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 7
2025-05-05 14:41:33,803 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,808 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:41:33,809 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 6 dari kueri ID 7
2025-05-05 14:41:33,809 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:41:33,814 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:32,958 - rag-chatbot - INFO - Menerima kueri chat: 'Monkey Board'
2025-05-05 14:43:32,958 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:43:32,958 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 7, "endpoint": "embedString", "parameter": {"inputString": "Monkey Board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:43:32,965 - RemoteCallHandler - DEBUG - {"call_id": 7, "event": "Received RPC result", "json": {"callId": 7, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:43:32,965 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:43:32,966 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:32,971 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:32,971 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:43:32,975 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6907001733779907
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6764681935310364
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6620870433993922
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6517141461372375
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6173133438024924
2025-05-05 14:43:32,975 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:43:32,975 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:43:32,976 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 7, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\nDOCUMENT 2:\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n\nDOCUMENT 3:\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\nDOCUMENT 4:\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\nDOCUMENT 5:\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\nPERTANYAAN: Monkey Board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:43:33,623 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Monkey Board'
2025-05-05 14:43:33,624 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,628 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:33,639 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 8
2025-05-05 14:43:33,639 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 8
2025-05-05 14:43:33,639 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,644 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:33,646 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 8
2025-05-05 14:43:33,646 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,650 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:33,652 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 8
2025-05-05 14:43:33,652 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,657 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:33,658 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 8
2025-05-05 14:43:33,658 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,661 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:43:33,662 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 8
2025-05-05 14:43:33,662 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:43:33,665 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:19,241 - rag-chatbot - INFO - Menerima kueri chat: 'tugas dari derick man'
2025-05-05 14:44:19,241 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:44:19,241 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 8, "endpoint": "embedString", "parameter": {"inputString": "tugas dari derick man", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:44:19,268 - RemoteCallHandler - DEBUG - {"call_id": 8, "event": "Received RPC result", "json": {"callId": 8, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:44:19,268 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:44:19,268 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:19,274 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:19,274 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:44:19,280 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6214566826820374
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6061387892878788
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.5889729261398315
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.5828953732785815
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Hasil: chunk_id=5, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.568961807365637
2025-05-05 14:44:19,280 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:44:19,280 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:44:19,280 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 8, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\nDOCUMENT 2:\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\n\nDOCUMENT 3:\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n\nDOCUMENT 4:\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\nDOCUMENT 5:\nmanusia, binatang, tumbuhan dan lingkungan\nseperti virus, bakteri dan jamur .\n\uf0a1Jenis pakaian pelindung terdiri dari rompi\n(Vests), celemek (Apron/Coveralls), Jacket ,dan\npakaian pelindung yang menutupi sebagian\natau seluruh bagian badan .\n\n\uf0a1Alat pelindung kepala adalah alat pelindung\nyang berfungsi untuk melindungi kepala dari\nbenturan, terantuk, kejatuhan atau terpukul\nbenda tajam atau benda keras yang melayang\natau meluncur diudara, terpapar oleh radiasi\npanas, api, percikan bahan -bahan kimia, jasad\nrenik (mikro organisme) dan suhu yang ekstrim .\n\uf0a1Jenis alat pelindung kepala terdiri dari helm\npengaman (safety helmet), topi atau tudung\nkepala, penutup atau pengaman rambut, dan lain-\nlain.\n\n\uf0a1Alat pelindung kaki berfungsi untuk melindungi\nkaki dari tertimpa atau berbenturan dengan\nbenda -benda berat, tertusuk benda tajam,\nterkena cairan panas atau dingin, uap panas,\nterpajan suhu yang ekstrim, terkena bahan kimia\nberbahaya dan jasad renik, tergelincir .\n\nPERTANYAAN: tugas dari derick man\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:44:21,338 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'tugas dari derick man'
2025-05-05 14:44:21,338 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,343 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:21,354 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 9
2025-05-05 14:44:21,355 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 9
2025-05-05 14:44:21,355 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,360 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:21,362 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 9
2025-05-05 14:44:21,362 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,366 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:21,367 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 9
2025-05-05 14:44:21,368 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,372 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:21,373 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 9
2025-05-05 14:44:21,373 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,378 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:44:21,379 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 9
2025-05-05 14:44:21,379 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:44:21,384 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:25,687 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan instruksi kerja TKI No. C4-037/PPC21210/2023-S9'
2025-05-05 14:45:25,687 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:45:25,687 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 9, "endpoint": "embedString", "parameter": {"inputString": "jelaskan instruksi kerja TKI No. C4-037/PPC21210/2023-S9", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:45:25,718 - RemoteCallHandler - DEBUG - {"call_id": 9, "event": "Received RPC result", "json": {"callId": 9, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:45:25,718 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:45:25,718 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:25,724 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:25,724 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:45:25,727 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:45:25,727 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7428868259720116
2025-05-05 14:45:25,728 - rag-chatbot - DEBUG - Hasil: chunk_id=34, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7092005437136033
2025-05-05 14:45:25,728 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7030958533287098
2025-05-05 14:45:25,728 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.6841570750615369
2025-05-05 14:45:25,728 - rag-chatbot - DEBUG - Hasil: chunk_id=6, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.6672358512878466
2025-05-05 14:45:25,728 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:45:25,728 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:45:25,728 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 9, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\nDOCUMENT 2:\n(Sr Engineer DWI Eng & Planning  \nMethod)   \nNarasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n10 Rery Dwi  Saputra  \n(Engineer  DWI)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n11 Teddyanto Soetedjo  \n(Coman  Drilling  Operation)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n12 Arie Firman  \n(Sr Supervisor  Well Services)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \nLembar  persetujuan ini merupakan satu kesatuan yang tidak terpisahkan dengan \nSTK tersebut  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : ii dari iii  \n \nDAFTAR ISI  \n          Halaman  \n   \n Lembar Persetujuan STK \u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026 ... i \n Daftar Isi\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026...  ii\n\nDOCUMENT 3:\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\nDOCUMENT 4:\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\nDOCUMENT 5:\n\uf0a1Jenis Pelindung kaki berupa sepatu\nkeselamatan pada pekerjaan peleburan,\npengecoran logam, industri, kontruksi\nbangunan, pekerjaan yang berpotensi bahaya\npeledakan, bahaya listrik, tempat kerja yang\nbasah atau licin, bahan kimia dan jasad renik,\ndan/atau bahaya binatang dan lain-lain.\n\n\uf0a1Pelindung tangan (sarung tangan) adalah alat\npelindung yang berfungsi untuk melindungi\ntangan dan jari-jaritangan dari pajanan api, suhu\npanas, suhu dingin, radiasi elektromagnetik,\nradiasi mengion, arus listrik, bahan kimia,\nbenturan, pukulan dan tergores, terinfeksi zat\npatogen (virus, bakteri) dan jasad renik .\n\uf0a1Jenis pelindung tangan terdiri dari sarung tangan\nyang terbuat dari logam, kulit, kain kanvas, kain\natau kain berpelapis, karet, dan sarung tangan\nyang tahan bahan kimia .\n\n\n\uf0a1Alat pelindung mata dan muka adalah alat\npelindung yang berfungsi untuk melindungi\nmata dan muka dari paparan bahan kimia\nberbahaya, paparan partikel -partikel yang\nmelayang diudara dan dibadan air, percikan\n\nPERTANYAAN: jelaskan instruksi kerja TKI No. C4-037/PPC21210/2023-S9\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:45:27,282 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan instruksi kerja TKI No. C4-037/PPC21210/2023-S9'
2025-05-05 14:45:27,282 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,288 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:27,298 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 10
2025-05-05 14:45:27,298 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 10
2025-05-05 14:45:27,298 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,304 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:27,306 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 10
2025-05-05 14:45:27,306 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,309 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:27,310 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 10
2025-05-05 14:45:27,310 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,314 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:27,314 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 10
2025-05-05 14:45:27,314 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,317 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:45:27,318 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 10
2025-05-05 14:45:27,318 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:45:27,323 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:27,118 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:46:27,118 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:46:27,118 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 10, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:46:27,145 - RemoteCallHandler - DEBUG - {"call_id": 10, "event": "Received RPC result", "json": {"callId": 10, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:46:27,145 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:46:27,145 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:27,151 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:27,151 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:46:27,155 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 14:46:27,155 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:46:27,155 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:46:27,155 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 10, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan sumber dokumen.\n\nDOKUMEN YANG TERSEDIA:\nDOCUMENT 1:\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\nDOCUMENT 2:\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n\nDOCUMENT 3:\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\nDOCUMENT 4:\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\nDOCUMENT 5:\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:46:30,786 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:46:30,786 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,792 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:30,795 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 11
2025-05-05 14:46:30,795 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 11
2025-05-05 14:46:30,795 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,800 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:30,802 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 11
2025-05-05 14:46:30,802 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,807 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:30,809 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 11
2025-05-05 14:46:30,809 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,814 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:30,815 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 11
2025-05-05 14:46:30,815 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,820 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:46:30,821 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 11
2025-05-05 14:46:30,821 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:46:30,825 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:36,219 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:36,219 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:36,220 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:48:36,220 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:48:36,220 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:36,220 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:36,220 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:36,220 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:36,220 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 14:48:36,221 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 14:48:36,221 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:36,221 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,508 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 14:48:37,508 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,508 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:48:37,509 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:48:37,510 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:48:37,528 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:48:37,529 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70fa94b85c70>
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:48:37,529 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'XWGunjj57VuCPImV1V0AYmsXR+w=')])
2025-05-05 14:48:37,530 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:48:37,530 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,531 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,531 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,531 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:37,532 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 14:48:37,532 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 14:48:37,532 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,533 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 14:48:37,533 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 14:48:37,533 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 14:48:37,563 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 14:48:37,564 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70fa94bec470>
2025-05-05 14:48:37,564 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 14:48:37,564 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 14:48:37,564 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 14:48:37,564 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 14:48:37,564 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 14:48:37,565 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'4tAIwhTweQjpVRW2YreGFj7L2Cg=')])
2025-05-05 14:48:37,565 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 14:48:37,565 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,565 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,565 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,565 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,566 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:37,566 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 14:48:37,577 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 14:48:45,917 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:48:45,917 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:48:45,919 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:45,940 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:48:45,940 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:48:45,940 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:45,944 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:45,944 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:48:45,948 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 14:48:45,948 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:48:45,948 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:48:45,949 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\nDOCUMENT 1:\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\nDOCUMENT 2:\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n\nDOCUMENT 3:\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\nDOCUMENT 4:\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\nDOCUMENT 5:\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:48:49,532 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:48:49,532 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,537 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:49,543 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 12
2025-05-05 14:48:49,543 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 12
2025-05-05 14:48:49,543 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,548 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:49,550 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 12
2025-05-05 14:48:49,550 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,554 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:49,555 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 12
2025-05-05 14:48:49,555 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,559 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:49,561 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 12
2025-05-05 14:48:49,561 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,566 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:48:49,567 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 12
2025-05-05 14:48:49,567 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:48:49,571 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:04,688 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:50:04,688 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 14:50:04,688 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:50:04,714 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 14:50:04,714 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 14:50:04,714 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:04,720 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:04,720 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 14:50:04,727 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 14:50:04,727 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 14:50:04,727 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 14:50:04,727 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\nDOCUMENT 1:\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\nDOCUMENT 2:\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n\nDOCUMENT 3:\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\nDOCUMENT 4:\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\nDOCUMENT 5:\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 14:50:07,386 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 14:50:07,387 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,393 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:07,404 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 13
2025-05-05 14:50:07,404 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 13
2025-05-05 14:50:07,404 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,410 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:07,412 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 13
2025-05-05 14:50:07,412 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,417 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:07,420 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 13
2025-05-05 14:50:07,420 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,425 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:07,426 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 13
2025-05-05 14:50:07,426 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,430 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 14:50:07,432 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 13
2025-05-05 14:50:07,432 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 14:50:07,437 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:12:57,662 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:57,663 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:57,663 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:12:57,663 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:12:57,663 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:57,664 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:57,664 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:57,664 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:57,664 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:12:57,664 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:12:57,664 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:57,664 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,956 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 15:12:58,957 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,957 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:12:58,958 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:12:58,959 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:12:58,979 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:12:58,980 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7bb642f064e0>
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:12:58,981 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'dAB11gI8jgZHZSFaivhD9HJcAw4=')])
2025-05-05 15:12:58,982 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:12:58,982 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,983 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,984 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,984 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:12:58,985 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 15:12:58,985 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 15:12:58,985 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:58,986 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:12:58,986 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:12:58,986 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:12:59,002 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:12:59,003 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7bb642fece30>
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:12:59,004 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'FRNgrWQPyZqTRR0xHfEHvhFEEJw=')])
2025-05-05 15:12:59,004 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:12:59,004 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:59,006 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:59,006 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:59,006 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:59,008 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:12:59,008 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 15:12:59,021 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 15:13:08,116 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:13:08,116 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 15:13:08,118 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:13:08,139 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:13:08,139 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 15:13:08,139 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:08,143 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:08,143 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 15:13:08,147 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 15:13:08,147 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 15:13:08,147 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 15:13:08,149 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\n\nDOKUMEN 1: 50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\n\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:13:10,909 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:13:10,909 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,915 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:10,926 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 14
2025-05-05 15:13:10,926 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 14
2025-05-05 15:13:10,926 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,931 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:10,932 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 14
2025-05-05 15:13:10,932 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,937 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:10,939 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 14
2025-05-05 15:13:10,939 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,944 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:10,946 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 14
2025-05-05 15:13:10,946 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,951 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:13:10,952 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 14
2025-05-05 15:13:10,952 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:13:10,955 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:20,513 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:20,513 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:20,514 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:16:20,514 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:16:20,514 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:20,514 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:20,514 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:20,514 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:20,514 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:16:20,514 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:16:20,515 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:20,515 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,916 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 15:16:21,917 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,917 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:16:21,917 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:16:21,918 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:16:21,936 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:16:21,937 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x74f5183764b0>
2025-05-05 15:16:21,937 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:16:21,937 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:16:21,938 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:16:21,938 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:16:21,938 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:16:21,939 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'XkOaqi4yzJek7v4E36DyWObNQ5I=')])
2025-05-05 15:16:21,939 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:16:21,939 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,941 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,941 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,941 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:21,943 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 15:16:21,943 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 15:16:21,943 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,943 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:16:21,943 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:16:21,944 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:16:21,960 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:16:21,961 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x74f5183e8e30>
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:16:21,962 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'+gPFyz7wTBIAp+aesFWpGw8fJdM=')])
2025-05-05 15:16:21,963 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:16:21,963 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,964 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,964 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,964 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,965 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:21,965 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 15:16:21,977 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 15:16:29,558 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:16:29,559 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 15:16:29,560 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:29,584 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:16:29,584 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 15:16:29,584 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:29,590 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:29,590 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 15:16:29,594 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 15:16:29,594 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 15:16:29,594 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 15:16:29,595 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 15:16:29,595 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 15:16:29,595 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 15:16:29,595 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 15:16:29,595 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 15:16:29,596 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten safety AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nBerikan jawaban yang lengkap, akurat, dan bermanfaat sesuai dengan dokumen terkait. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\n\nDOKUMEN 1: 50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\n\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:16:35,977 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:16:35,978 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:35,983 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:35,985 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 15
2025-05-05 15:16:35,985 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 15
2025-05-05 15:16:35,985 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:35,988 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:35,989 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 15
2025-05-05 15:16:35,989 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:35,993 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:35,995 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 15
2025-05-05 15:16:35,995 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:35,999 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:36,000 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 15
2025-05-05 15:16:36,000 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:36,004 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:16:36,006 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 15
2025-05-05 15:16:36,006 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:16:36,011 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:14,560 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:14,560 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:14,561 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:19:14,561 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:19:14,561 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:14,561 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:14,561 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:14,562 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:14,562 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 15:19:14,562 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 15:19:14,562 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:14,563 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,815 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 15:19:15,819 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,819 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:19:15,819 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:19:15,820 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:19:15,839 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:19:15,840 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73bd7a98de20>
2025-05-05 15:19:15,840 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:19:15,840 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:19:15,840 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:19:15,841 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:19:15,841 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:19:15,841 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'28aNViqGNzbjT8xNS3BywovaFX8=')])
2025-05-05 15:19:15,841 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:19:15,841 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,842 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,842 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,842 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:15,843 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 15:19:15,844 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 15:19:15,844 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,844 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 15:19:15,844 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 15:19:15,845 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 15:19:15,859 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 15:19:15,860 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73bd7a9f4ce0>
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 15:19:15,860 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'i7rAdjIMzNaKpcE1NEgnVDHSjV0=')])
2025-05-05 15:19:15,860 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 15:19:15,861 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,861 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,861 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,861 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,862 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:15,863 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 15:19:15,874 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 15:19:21,738 - rag-chatbot - INFO - Menerima kueri chat: 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:19:21,738 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 15:19:21,740 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:21,762 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:19:21,763 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 15:19:21,763 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:21,768 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:21,768 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 15:19:21,772 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7906653881072998
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7713086605072021
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7610134482383728
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7343719224444608
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf, similarity=0.7199025917111296
2025-05-05 15:19:21,772 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 15:19:21,772 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 15:19:21,773 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten safety AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nBerikan jawaban yang lengkap, akurat, dan bermanfaat persis dengan dokumen terkait. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\n\nDOKUMEN 1: 50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\n\n\nPERTANYAAN: Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:19:29,123 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Instruksi kerja persiapan dan pelaksanaan pada pekerjaan melibatkan monkey board'
2025-05-05 15:19:29,123 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,127 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:29,137 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 16
2025-05-05 15:19:29,137 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 16
2025-05-05 15:19:29,137 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,141 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:29,143 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 16
2025-05-05 15:19:29,143 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,148 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:29,150 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 16
2025-05-05 15:19:29,150 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,154 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:29,155 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 16
2025-05-05 15:19:29,155 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,158 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:19:29,159 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 16
2025-05-05 15:19:29,159 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:19:29,164 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:25,249 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 15:23:25,249 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 15:23:25,249 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:23:25,273 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 15:23:25,274 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 15:23:25,274 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:25,279 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:25,279 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 15:23:25,283 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 15:23:25,283 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=c65cc5e7-85fe-4425-98a5-78611852c815.pdf, similarity=0.7353270649909973
2025-05-05 15:23:25,283 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=c65cc5e7-85fe-4425-98a5-78611852c815.pdf, similarity=0.7231300092676288
2025-05-05 15:23:25,284 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=c65cc5e7-85fe-4425-98a5-78611852c815.pdf, similarity=0.7189218448628674
2025-05-05 15:23:25,284 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7111744536369439
2025-05-05 15:23:25,284 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf, similarity=0.7106175846229557
2025-05-05 15:23:25,284 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 15:23:25,284 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 15:23:25,284 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten safety AI yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nManfaatkan informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nBerikan jawaban yang lengkap, akurat, dan bermanfaat persis dengan dokumen terkait. Jika relevan, sebutkan 1 sumber dokumen paling relevan\n\nDOKUMEN YANG PALING MIRIP:\n\nDOKUMEN 1: c65cc5e7-85fe-4425-98a5-78611852c815.pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 15:23:30,268 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 15:23:30,268 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,274 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:30,285 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 17
2025-05-05 15:23:30,285 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 17
2025-05-05 15:23:30,285 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,290 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:30,292 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 17
2025-05-05 15:23:30,292 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,295 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:30,297 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 17
2025-05-05 15:23:30,297 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,300 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:30,301 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 17
2025-05-05 15:23:30,301 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,306 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 15:23:30,307 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 17
2025-05-05 15:23:30,307 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 15:23:30,312 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:20:20,622 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:20,622 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:20,623 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:20:20,623 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:20:20,623 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:20,624 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:20,624 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:20,624 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:20,624 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:20:20,624 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:20:20,625 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:20,625 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,890 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:20:21,891 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,892 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:20:21,892 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:20:21,893 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:20:21,914 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:20:21,914 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7bb71d3a2360>
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:20:21,915 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'YS30iCdy57sZtiHKvJhcz51/fLg=')])
2025-05-05 16:20:21,915 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:20:21,915 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,916 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,916 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,916 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:21,917 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:20:21,918 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:20:21,918 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,918 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:20:21,918 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:20:21,918 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:20:21,936 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:20:21,937 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7bb71d3d2270>
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:20:21,937 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'76rV3Qs8rAY92cCrQoAs03OhKSQ=')])
2025-05-05 16:20:21,937 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:20:21,938 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,938 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,938 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,938 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,939 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:20:21,939 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:20:21,949 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:20:30,710 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:20:30,710 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:20:30,711 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:30,733 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:20:30,733 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:20:30,733 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:20:30,740 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:20:30,740 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:20:30,743 - rag-chatbot - ERROR - Error saat pencarian chunks: syntax error at or near "d"
LINE 7:                 d.category AS category,
                        ^

2025-05-05 16:20:30,743 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 163, in search_similar_chunks
    cursor.execute(query, (query_embedding, query_embedding, similarity_threshold, query_embedding, max_chunks))
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.SyntaxError: syntax error at or near "d"
LINE 7:                 d.category AS category,
                        ^


2025-05-05 16:20:30,744 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:20:30,744 - rag-chatbot - ERROR - Error saat memproses kueri chat: syntax error at or near "d"
LINE 7:                 d.category AS category,
                        ^

2025-05-05 16:20:30,744 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 301, in chat
    similar_chunks = search_similar_chunks(
                     ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 163, in search_similar_chunks
    cursor.execute(query, (query_embedding, query_embedding, similarity_threshold, query_embedding, max_chunks))
  File "/home/e206/miniconda3/lib/python3.12/site-packages/psycopg2/extras.py", line 146, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.SyntaxError: syntax error at or near "d"
LINE 7:                 d.category AS category,
                        ^


2025-05-05 16:22:05,915 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:05,916 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:05,916 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:22:05,916 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:22:05,917 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:05,917 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:05,917 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:05,917 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:05,918 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:22:05,918 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:22:05,918 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:05,918 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,069 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:22:07,070 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,070 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:22:07,071 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:22:07,072 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:22:07,113 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:22:07,115 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7a575356b890>
2025-05-05 16:22:07,115 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:22:07,116 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:22:07,116 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:22:07,116 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:22:07,116 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:22:07,117 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'V3zReXbd9FhJk5gXK+BiSlWcwa0=')])
2025-05-05 16:22:07,117 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:22:07,118 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,119 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,119 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,119 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:07,120 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:22:07,120 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:22:07,120 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,120 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:22:07,121 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:22:07,121 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:22:07,132 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:22:07,133 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7a57535d1fa0>
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:22:07,134 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'sa0ai6tvIEeEFETwOakV6er1cZY=')])
2025-05-05 16:22:07,134 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:22:07,134 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,135 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,135 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,135 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,137 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:07,137 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:22:07,147 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:22:16,623 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:22:16,623 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:22:16,624 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:16,649 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:22:16,650 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:22:16,650 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:16,655 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:16,655 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:22:16,659 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:22:16,659 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:22:16,660 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:22:16,660 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nGunakan HANYA informasi dari dokumen yang diberikan untuk menjawab pertanyaan. \nJika jawabannya tidak ada dalam dokumen, katakan bahwa kamu tidak dapat menjawab berdasarkan dokumen yang tersedia.\nBerikan jawaban yang ringkas, akurat, dan bermanfaat. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:22:18,585 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:22:18,585 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,590 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:18,600 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 18
2025-05-05 16:22:18,600 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 18
2025-05-05 16:22:18,600 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,606 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:18,608 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 18
2025-05-05 16:22:18,608 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,612 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:18,614 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 18
2025-05-05 16:22:18,614 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,619 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:18,621 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 18
2025-05-05 16:22:18,621 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,625 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:22:18,626 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 18
2025-05-05 16:22:18,626 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:22:18,631 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:44,658 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:44,658 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:44,659 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:24:44,659 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:24:44,659 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:44,659 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:44,659 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:44,659 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:44,660 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:24:44,660 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:24:44,660 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:44,660 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,947 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:24:45,948 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,948 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:24:45,949 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:24:45,950 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:24:45,968 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:24:45,969 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7353a4b6f590>
2025-05-05 16:24:45,969 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:24:45,969 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:24:45,970 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:24:45,970 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:24:45,970 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:24:45,970 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'2ZquR2HlCI8cp6P3dS/VinYXfnk=')])
2025-05-05 16:24:45,970 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:24:45,971 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,971 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,972 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,972 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:45,974 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:24:45,974 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:24:45,974 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:45,974 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:24:45,975 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:24:45,975 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:24:46,005 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:24:46,006 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7353a4be1f70>
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:24:46,007 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'WlMgOFkYyjSvs1WAV+SqbW1LyMc=')])
2025-05-05 16:24:46,007 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:24:46,007 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:46,008 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:46,008 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:46,008 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:46,009 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:46,009 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:24:46,022 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:24:52,699 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:24:52,699 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:24:52,700 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:52,724 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:24:52,724 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:24:52,724 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:52,729 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:52,729 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:24:52,733 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:24:52,733 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:24:52,734 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:24:52,735 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:24:54,642 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:24:54,642 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,647 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:54,657 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 19
2025-05-05 16:24:54,657 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 19
2025-05-05 16:24:54,657 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,661 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:54,663 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 19
2025-05-05 16:24:54,663 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,668 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:54,670 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 19
2025-05-05 16:24:54,670 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,675 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:54,677 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 19
2025-05-05 16:24:54,677 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,681 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:24:54,682 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 19
2025-05-05 16:24:54,683 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:24:54,687 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:24,655 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:25:24,655 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:25:24,655 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:25:24,685 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:25:24,686 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:25:24,686 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:24,692 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:24,692 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:25:24,699 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:25:24,699 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:25:24,699 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:25:24,700 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:25:27,296 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:25:27,296 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,299 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:27,310 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 20
2025-05-05 16:25:27,310 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 20
2025-05-05 16:25:27,310 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,315 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:27,317 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 20
2025-05-05 16:25:27,317 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,320 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:27,322 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 20
2025-05-05 16:25:27,322 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,327 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:27,328 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 20
2025-05-05 16:25:27,328 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,333 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:27,334 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 20
2025-05-05 16:25:27,334 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:25:27,337 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:25:59,279 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:25:59,280 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:25:59,280 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:25:59,280 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:25:59,280 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:25:59,280 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:25:59,280 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:25:59,281 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:25:59,281 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:25:59,281 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:25:59,281 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:25:59,281 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,336 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:26:01,336 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,336 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:26:01,337 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:26:01,338 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:26:01,356 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:26:01,356 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x79883bf77350>
2025-05-05 16:26:01,357 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:26:01,357 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:26:01,357 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:26:01,357 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:26:01,357 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:26:01,358 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'mYzEkHY2NjY460ocZvPlcJeuHfQ=')])
2025-05-05 16:26:01,358 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:26:01,359 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,359 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,359 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,359 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:01,361 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:26:01,361 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:26:01,361 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,361 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:26:01,362 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:26:01,362 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:26:01,392 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:26:01,393 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x79883bfddfa0>
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:26:01,393 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'wq0AMr+A+vyPDo70eNZwBrzn1iI=')])
2025-05-05 16:26:01,393 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:26:01,393 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,394 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,394 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,394 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,395 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:01,395 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:26:01,405 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:26:07,984 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:26:07,984 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:26:07,985 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:08,015 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:26:08,015 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:26:08,015 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:08,021 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:08,021 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:26:08,025 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:26:08,025 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:26:08,025 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:26:08,025 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:26:08,025 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:26:08,025 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:26:08,026 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:26:08,026 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:26:08,027 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:26:16,730 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:26:16,730 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,734 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:16,745 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 21
2025-05-05 16:26:16,745 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 21
2025-05-05 16:26:16,745 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,748 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:16,750 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 21
2025-05-05 16:26:16,750 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,753 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:16,755 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 21
2025-05-05 16:26:16,755 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,760 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:16,761 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 21
2025-05-05 16:26:16,761 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,766 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:26:16,767 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 21
2025-05-05 16:26:16,767 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:26:16,772 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:04,074 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:04,074 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:04,075 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:30:04,075 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:30:04,075 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:04,075 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:04,075 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:04,076 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:04,076 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:30:04,076 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:30:04,076 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:04,076 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,402 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:30:05,402 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,402 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:30:05,403 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:30:05,404 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:30:05,425 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:30:05,426 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7df24af06d50>
2025-05-05 16:30:05,426 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:30:05,427 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:30:05,427 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:30:05,427 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:30:05,427 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:30:05,427 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6aURG9+sqMeZDPEYvgvN9EoCOjI=')])
2025-05-05 16:30:05,427 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:30:05,427 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,428 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,428 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,428 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:05,430 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:30:05,430 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:30:05,431 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,431 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:30:05,431 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:30:05,431 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:30:05,454 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:30:05,455 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7df249bd2210>
2025-05-05 16:30:05,455 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:30:05,457 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:30:05,457 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:30:05,457 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:30:05,457 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:30:05,457 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'gjRjk1N4CE9U7/4ivt3f6WzHAF0=')])
2025-05-05 16:30:05,457 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:30:05,457 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,458 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,458 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,458 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,459 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:05,460 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:30:05,470 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:30:17,216 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:30:17,216 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:30:17,218 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:17,243 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:30:17,243 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:30:17,243 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:17,250 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:17,250 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:30:17,257 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:30:17,257 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:30:17,257 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:30:17,259 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:30:22,945 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:30:22,945 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,949 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:22,960 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 22
2025-05-05 16:30:22,960 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 22
2025-05-05 16:30:22,960 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,964 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:22,965 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 22
2025-05-05 16:30:22,966 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,970 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:22,972 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 22
2025-05-05 16:30:22,972 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,977 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:22,978 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 22
2025-05-05 16:30:22,978 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,982 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:30:22,983 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 22
2025-05-05 16:30:22,983 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:30:22,988 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:26,467 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:26,467 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:26,468 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:34:26,468 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:34:26,468 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:26,468 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:26,468 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:26,468 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:26,469 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:34:26,469 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:34:26,469 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:26,469 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,004 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:34:28,005 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,005 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:34:28,005 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:34:28,007 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:34:28,026 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:34:28,027 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75c4c1ba1460>
2025-05-05 16:34:28,027 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:34:28,027 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:34:28,027 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:34:28,028 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:34:28,028 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:34:28,028 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'csNtZa3pHRqqvvvd8MGqsjTENjY=')])
2025-05-05 16:34:28,028 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:34:28,028 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,029 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,029 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,029 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:28,031 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:34:28,031 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:34:28,031 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,031 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:34:28,032 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:34:28,032 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:34:28,049 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:34:28,050 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75c4c1bce150>
2025-05-05 16:34:28,051 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:34:28,051 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:34:28,052 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:34:28,052 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:34:28,052 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:34:28,052 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'pvxb3cr47okTzSsQO/xAXLeYUCw=')])
2025-05-05 16:34:28,053 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:34:28,053 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,054 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,055 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,055 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,057 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:28,057 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:34:28,069 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:34:50,514 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:34:50,514 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:34:50,515 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar apd untuk lokasi onshore", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:50,541 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:34:50,541 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:34:50,542 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:50,548 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:50,548 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:34:50,553 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Hasil: chunk_id=69, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7353270649909973
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7231300092676288
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Hasil: chunk_id=70, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7189218448628674
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7111744536369439
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7106175846229557
2025-05-05 16:34:50,553 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:34:50,553 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:34:50,555 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nmasing.  \n1. Menyiapkan Jadwal \ninspeksi APD  \n4. Melaporkan hasil \ninspeksi  \nSelesai  \n3. Melaksanakan inspeksi APD sesuai jadwal  \n4. Menerima  hasil inspeksi  \ndan melaporkan hasil \ninspeksi   \n4. Menerima hasil inspeksi  \n5. Melaporkan hasil  \ninspeksi  \n5. Menerima hasil inspeksi  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nPENGENDALIAN KUALITAS ALAT PELINDUNG DIRI ( APD) MITRA KERJA  Phase Kontraktor  User  Officer Safety  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nStart  \n1. Menyerahkan sampel APD \nyang akan didistribusikan \nkepada mitra kerja  \n2. Menyerahkan sampel APD  \n3. Melakukan pemeriksaan \nkesesuaian kualitas dan  \njumlah APD  \n6. Menindaklanjuti APD (yang \nsesuai didistribusikan, yang \ntidak sesuai diganti)  \n4. Mengembalikan APD \ndilengkapi dengan keterangan \nsesuai/tidak sesuai  \n5. Mengembalikan APD\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n \n \n \nPEMUSNAHAN  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Officer  Environment & \nOfficer Security  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n  \n \nStart  \n1. Mengembalikan \nAPD rusak/cacat \nproduk/kadaluwarsa  \n2. Melakukan \npencatatan dan \nmelaporkan data \nAPD  \n3. Mengumpulkan \nseluruh APD  \n4. Melakukan pemilahan, \npenghancuran, dan \npemusnahan APD  \nEnd Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nLampiran 4 \u2013 TKO No. B8-021/PPC04100/2022 -S9 \nStandar APD  untuk Pekerja, Mitra Kerja dan Tamu  \n1. Coverall  untuk lokasi onshore\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: jelaskan standar apd untuk lokasi onshore\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:34:57,684 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar apd untuk lokasi onshore'
2025-05-05 16:34:57,684 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,690 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:57,700 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 23
2025-05-05 16:34:57,701 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 23
2025-05-05 16:34:57,701 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,706 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:57,708 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 23
2025-05-05 16:34:57,708 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,713 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:57,715 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 23
2025-05-05 16:34:57,715 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,719 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:57,720 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 23
2025-05-05 16:34:57,721 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,725 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:34:57,725 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 23
2025-05-05 16:34:57,725 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:34:57,729 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:44:01,594 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:01,594 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:01,595 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:44:01,595 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:44:01,595 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:01,595 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:01,595 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:01,595 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:01,596 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:44:01,596 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:44:01,596 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:01,596 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,921 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:44:04,922 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,922 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:44:04,922 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:44:04,923 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:44:04,941 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:44:04,942 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x763729f6b5f0>
2025-05-05 16:44:04,942 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:44:04,942 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:44:04,942 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:44:04,942 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:44:04,942 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:44:04,943 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'B00SD4CwYJO6U0PGhUxPDxap15M=')])
2025-05-05 16:44:04,943 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:44:04,943 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,944 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,945 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,945 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:44:04,946 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:44:04,946 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:44:04,946 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,947 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:44:04,947 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:44:04,948 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:44:04,980 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:44:04,981 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x763729fd4e60>
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:44:04,981 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'rrge83Zj2dilML0A1Poct/00xKs=')])
2025-05-05 16:44:04,981 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:44:04,982 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,982 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,982 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,982 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,984 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:44:04,984 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:44:04,994 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:45:06,498 - rag-chatbot - INFO - Menerima kueri chat: 'berikan penjelasan lengkap tentang standar pemakaian APD'
2025-05-05 16:45:06,498 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:45:06,499 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "berikan penjelasan lengkap tentang standar pemakaian APD", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:45:06,522 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:45:06,522 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:45:06,522 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:06,526 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:06,526 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:45:06,531 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Hasil: chunk_id=2, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7756622299946808
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7678587207836325
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Hasil: chunk_id=52, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7555267810821586
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Hasil: chunk_id=10, dokumen=16000479373.ManagementAPD.pdf, similarity=0.7542759922578353
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Hasil: chunk_id=58, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7537818697820993
2025-05-05 16:45:06,531 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:45:06,531 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:45:06,532 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\n\u25aaPASAL 2AYAT 2APD HARUS SESUAI DENGAN STANDAR NASIONAL INDONESIA (SNI)\nATAU STANDAR YANG BERLAKU .\n\u25aaPASAL 2AYAT 3APD WAJIB DIBERIKAN OLEH PENGUSAHA SECARA CUMA -CUMA .\n\u25aaPASAL 5PENGUSAHA ATAU PENGURUS WAJIB MENGUMUMKAN SECARA TERTULIS DAN\nMEMASANG RAMBU -RAMBU MENGENAI KEWAJIBAN PENGGUNAAN APD DITEMPAT\nKERJA .\n\u25aaPASAL 6AYAT 1PEKERJA/BURUH DAN ORANG LAIN YANG MEMASUKI TEMPAT KERJA\nWAJIB MEMAKAI ATAU MENGGUNAKAN APD SESUAI DENGAN POTENSI BAHAYA DAN\nRISIKO .\n\u25aaPASAL 6AYAT 2PEKERJA/BURUH BERHAK MENYATAKAN KEBERATAN UNTUK\nMELAKUKAN PEKERJAAN APABILA APD YANG DISEDIAKAN TIDAK MEMENUHI\nKETENTUAN DAN PERSYARATAN .\n\n\uf0a1Alat Pelindung Diri\u2192Personal Protective\nEquipments (PPE)\n\uf0a1Alat pelindung diri adalah suatu alat yang\nmempunyai kemampuan untuk melindungi\nseseorang dalam pekerjaan yang fungsinya\nmengisolasi tenaga kerja dari bahaya di\ntempat kerja\n\uf0a1Tujuan dari penggunaan APD adalah untuk \nmencegah terjadinya perpindahan energi / \nkontak antara pekerja dengan material /\nmenarik\n\uf0a1Mudah untuk melakukan pekerjaan\n\uf0a1Mudah untuk dipakai dan menanggalkannya\n\uf0a1Tidak menimbulkan beban pada gerakan tubuh\n\uf0a1Memenuhi standard\n\uf0a1Memiliki sertifikat\n\n\uf0a1Dipilih dan dipakai sesuai dengan kondisi lingkungan, potensi\nbahaya dan waktu pemakaian\n\uf0a1Penggunaan secara benar sesuai dengan pentunjuk\npemakaian\n\uf0a1Tenaga kerja harus dilatih secara berkala baik pemakaian dan\npemeliharaan\n\uf0a1Laporkan apabila ada perubahan pada bagian APD\n\uf0a1Mengisi form logbook terkait dengan penggunaan APD\n\nPemeriksaan APD\n\uf0a1Periksa keberadaan\n\uf0a1Periksa kelengkapan\n\uf0a1Periksa fungsional\n\uf0a1Periksa kebersihan\nPerawatan\n\uf0a1Bersihkan dengan air bersih,\n\uf0a1Hindari penggunaan bahan kimia untuk membersihkan,\n\uf0a1Keringkan sebelum disimpan\nPenyimpanan\n\uf0a1Simpan sesuai dengan kelompoknya\n\uf0a1Jauhkan dari sinar matahari\n\uf0a1Simpan dengan ventilasi yang baik\n\uf0a1Jauhkan dengan peralatan yang mengeluarkan radiasi\n\uf0a1Jauhkan dari bahan kimia \n\nPASAL 8\n1) APD yang rusak, retak atau tidak dapat berfungsi dengan baik\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\nJUDUL  : PENGELOLAAN ALAT PELINDUNG \nDIRI (APD)  DI LINGKUNGAN \nREGIONAL 4  REVISI KE  : \uf0520 \uf02a1 \uf02a2 \uf02a3 \uf02a4 \nBERLAKU TMT  : 30 November  2022  \nHAL : 2 dari 7 \n \n6. Apabil a stok tercukupi untuk kebutuhan APD ditambah dengan safety \nfactor  10%, maka dilakukan operasional pembagian dan evaluasi \npemakaian.  \n7. Apabila stok tidak tercukupi untuk keutuhan APD tertentu ditambah \ndengan  safety factor  10%, maka dilakukan proses pengadaan . \n8. Spesifikasi APD untuk tamu dan kontraktor mengacu pada Lampiran 4, \nkecuali desain dan warna. Desain dan warna disesuaikan dengan \nketentuan perusahaan kontraktor /mitra kerja masing -masing yang \nbermitra dengan PT Pertamina EP Cepu (Regional 4) . \n9. APD untuk mitra kerja sebelum didistribusikan kepada mitra \nkerja/kontraktor wajib dilakukan inspeksi oleh fungsi HSSE.  \n10. Perawata n APD dilakukan mengikuti ketentuan perawatan dari produsen \nAPD atau mengacu pada ketentuan Lampiran 4.\ndengan mengacu pada  Lampiran 4  dan pemeriksaan jumlah APD \ndengan mengacu pada  Lampiran 6 . \n4. Officer Safety  mengembalikan APD yang sudah diperiksa kepada \nUser  dilengkapi dengan keterangan sesuai/tidak sesuai dengan \nmenggunakan Formulir Berita Acara Pemeriksaan APD Nomor F-\n004/B8 -021/PPC04100/2022 -S9 pada Lampiran  10. \n5. User  mengembalikan APD kepada Kontraktor.  \n6. Kontraktor menerima APD dan menindaklanjuti ( APD yang sesuai \ndidistribusikan, yang tidak sesuai diganti).  \nE. Pemusnahan Alat Pelindung Diri  \n1. User  mengembalikan APD rusak/cacat produk/ kadaluwarsa  kepada \nOfficer Safety  dengan mengisi formulir F-005/B8 -\n021/PPC04100/2022 -S9 pada Lampiran  11. \n2. Officer Safety  melakukan pencatatan data APD rusak/ kadaluwarsa  \n3. Superintendent Fie ld HSSE  Ops mengumpulkan seluruh APD yang \nbekas/rusak/ kadaluwarsa  sebelum dimusnahkan.  \n4. Superintendent Field HSSE  Ops melakukan pemilahan  dan\n\n\n\nPERTANYAAN: berikan penjelasan lengkap tentang standar pemakaian APD\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:45:19,370 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'berikan penjelasan lengkap tentang standar pemakaian APD'
2025-05-05 16:45:19,370 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,376 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:19,387 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 24
2025-05-05 16:45:19,387 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 24
2025-05-05 16:45:19,387 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,391 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:19,392 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 24
2025-05-05 16:45:19,392 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,397 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:19,398 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 24
2025-05-05 16:45:19,398 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,403 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:19,404 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 24
2025-05-05 16:45:19,404 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,408 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:45:19,409 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 24
2025-05-05 16:45:19,409 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:45:19,413 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:49:21,973 - rag-chatbot - INFO - Permintaan download dokumen ID: 5
2025-05-05 16:49:21,974 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:49:21,978 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:49:21,979 - rag-chatbot - INFO - Mengirim file: 16000479373.ManagementAPD.pdf, path: uploads/d355299e-6eca-4bcb-bcbe-0dfd6fd54fae.pdf
2025-05-05 16:55:44,619 - rag-chatbot - INFO - Menerima kueri chat: 'halo'
2025-05-05 16:55:44,619 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:55:44,619 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "halo", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:55:44,643 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:55:44,643 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:55:44,643 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:44,648 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:44,648 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:55:44,653 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=16000479373.ManagementAPD.pdf, similarity=0.5469751251019652
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Hasil: chunk_id=132, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5427201279449579
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Hasil: chunk_id=83, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5420662972429859
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Hasil: chunk_id=129, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334462086393301
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Hasil: chunk_id=134, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334289828964767
2025-05-05 16:55:44,653 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:55:44,653 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:55:44,653 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nTidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording\n8 Shooter / Driller                      Internal Use Only\na. Face Shield  : Selalu memakai safety  glasses  atau goggles  ketika memakai face \nshield . Pemakaian face shield  saja tidak dianggap cukup untuk melindungi mata.  \nb. Welding Helmet  : Safety  glasses  atau goggles  harus dipakai ketika memakai  \n welding helmet . \n3. Pelindung Telinga  \na. Ketika tidak menggunakan ear plugs /earmuff  anda, simpan di  tempat yang bersih, \nsejuk dan k ering.  \nb. Jika ear plugs  foam  anda kotor, sobek atau keras, jangan digunakan lagi.  \nc. Jika ear plugs  PVC and a kotor, anda bisa membersihkannya dengan larutan sabun \nyang lembut dengan air. Kemudian keringkan. Jika sobek atau rapuh jangan \ndigunakan lagi.  \nd. Periksa selalu earmuffs  anda terhadap retakan di  sekitar foam cups . Jika earmuffs  \nanda rusak, minta untuk diperbaiki sesegera mungkin.  \n4. Pelindung Tangan dan Lengan  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nSetianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis\n6 Crew Drilling \u2013 Preloading dan\nAir Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording 8 Shooter / Driller Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n\n\n\nPERTANYAAN: halo\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:55:46,119 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'halo'
2025-05-05 16:55:46,119 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,123 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:46,133 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 25
2025-05-05 16:55:46,134 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 25
2025-05-05 16:55:46,134 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,139 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:46,141 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 25
2025-05-05 16:55:46,141 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,146 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:46,148 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 25
2025-05-05 16:55:46,148 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,152 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:46,153 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 25
2025-05-05 16:55:46,153 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,156 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:55:46,156 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 25
2025-05-05 16:55:46,156 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:55:46,161 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:57:46,746 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:46,747 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:46,747 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:57:46,747 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:57:46,748 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:46,748 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:46,748 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:46,748 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:46,748 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:57:46,748 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:57:46,749 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:46,749 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,696 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:57:48,696 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,696 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:57:48,697 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:57:48,698 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:57:48,716 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:57:48,717 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73233a3ac0b0>
2025-05-05 16:57:48,717 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:57:48,717 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:57:48,717 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:57:48,717 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:57:48,717 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:57:48,718 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'2lrO8u/KyG4Yh0nHW8/yU50erb0=')])
2025-05-05 16:57:48,718 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:57:48,718 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,719 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,719 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,719 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:48,721 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:57:48,721 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:57:48,721 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,721 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:57:48,722 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:57:48,722 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:57:48,738 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:57:48,739 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73233a3da1e0>
2025-05-05 16:57:48,739 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:57:48,740 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:57:48,740 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:57:48,740 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:57:48,740 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:57:48,740 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'RGYZWYieFvSlltJpMtLaYtxTlqE=')])
2025-05-05 16:57:48,740 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:57:48,740 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,741 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,741 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,742 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,743 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:57:48,743 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:57:48,755 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 16:57:55,311 - rag-chatbot - INFO - Menerima kueri chat: 'halo'
2025-05-05 16:57:55,311 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:57:55,313 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "halo", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:55,335 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:57:55,335 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:57:55,335 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:57:55,342 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:57:55,342 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:57:55,348 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=16000479373.ManagementAPD.pdf, similarity=0.5469751251019652
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Hasil: chunk_id=132, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5427201279449579
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Hasil: chunk_id=83, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5420662972429859
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Hasil: chunk_id=129, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334462086393301
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Hasil: chunk_id=134, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334289828964767
2025-05-05 16:57:55,348 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:57:55,348 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:57:55,349 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nTidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording\n8 Shooter / Driller                      Internal Use Only\na. Face Shield  : Selalu memakai safety  glasses  atau goggles  ketika memakai face \nshield . Pemakaian face shield  saja tidak dianggap cukup untuk melindungi mata.  \nb. Welding Helmet  : Safety  glasses  atau goggles  harus dipakai ketika memakai  \n welding helmet . \n3. Pelindung Telinga  \na. Ketika tidak menggunakan ear plugs /earmuff  anda, simpan di  tempat yang bersih, \nsejuk dan k ering.  \nb. Jika ear plugs  foam  anda kotor, sobek atau keras, jangan digunakan lagi.  \nc. Jika ear plugs  PVC and a kotor, anda bisa membersihkannya dengan larutan sabun \nyang lembut dengan air. Kemudian keringkan. Jika sobek atau rapuh jangan \ndigunakan lagi.  \nd. Periksa selalu earmuffs  anda terhadap retakan di  sekitar foam cups . Jika earmuffs  \nanda rusak, minta untuk diperbaiki sesegera mungkin.  \n4. Pelindung Tangan dan Lengan  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nSetianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis\n6 Crew Drilling \u2013 Preloading dan\nAir Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording 8 Shooter / Driller Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n\n\n\nPERTANYAAN: halo\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:58:00,941 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'halo'
2025-05-05 16:58:00,941 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,945 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:00,956 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 26
2025-05-05 16:58:00,956 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 26
2025-05-05 16:58:00,956 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,962 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:00,964 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 26
2025-05-05 16:58:00,964 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,967 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:00,969 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 26
2025-05-05 16:58:00,969 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,974 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:00,975 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 26
2025-05-05 16:58:00,975 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,980 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:00,982 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 26
2025-05-05 16:58:00,982 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:00,986 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:29,566 - rag-chatbot - INFO - Menerima kueri chat: 'halo'
2025-05-05 16:58:29,566 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 16:58:29,566 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "halo", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:58:29,593 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:58:29,593 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 16:58:29,593 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:29,600 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:29,600 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 16:58:29,614 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=16000479373.ManagementAPD.pdf, similarity=0.5469751251019652
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Hasil: chunk_id=132, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5427201279449579
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Hasil: chunk_id=83, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5420662972429859
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Hasil: chunk_id=129, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334462086393301
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Hasil: chunk_id=134, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334289828964767
2025-05-05 16:58:29,615 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 16:58:29,615 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 16:58:29,615 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika relevan, berikan link download dokumen yang tersedia.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nTidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording\n8 Shooter / Driller                      Internal Use Only\na. Face Shield  : Selalu memakai safety  glasses  atau goggles  ketika memakai face \nshield . Pemakaian face shield  saja tidak dianggap cukup untuk melindungi mata.  \nb. Welding Helmet  : Safety  glasses  atau goggles  harus dipakai ketika memakai  \n welding helmet . \n3. Pelindung Telinga  \na. Ketika tidak menggunakan ear plugs /earmuff  anda, simpan di  tempat yang bersih, \nsejuk dan k ering.  \nb. Jika ear plugs  foam  anda kotor, sobek atau keras, jangan digunakan lagi.  \nc. Jika ear plugs  PVC and a kotor, anda bisa membersihkannya dengan larutan sabun \nyang lembut dengan air. Kemudian keringkan. Jika sobek atau rapuh jangan \ndigunakan lagi.  \nd. Periksa selalu earmuffs  anda terhadap retakan di  sekitar foam cups . Jika earmuffs  \nanda rusak, minta untuk diperbaiki sesegera mungkin.  \n4. Pelindung Tangan dan Lengan  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nSetianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis\n6 Crew Drilling \u2013 Preloading dan\nAir Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording 8 Shooter / Driller Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n\n\n\nPERTANYAAN: halo\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:58:31,522 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'halo'
2025-05-05 16:58:31,522 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,526 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:31,536 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 27
2025-05-05 16:58:31,537 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 27
2025-05-05 16:58:31,537 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,540 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:31,542 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 27
2025-05-05 16:58:31,542 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,551 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:31,553 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 27
2025-05-05 16:58:31,553 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,566 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:31,570 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 27
2025-05-05 16:58:31,570 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,588 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:58:31,592 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 27
2025-05-05 16:58:31,592 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 16:58:31,610 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 16:59:56,091 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:56,091 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:56,092 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:59:56,092 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:59:56,092 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:56,092 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:56,093 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:56,093 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:56,093 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 16:59:56,093 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 16:59:56,093 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:56,094 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,434 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 16:59:57,435 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,435 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:59:57,436 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:59:57,437 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:59:57,472 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:59:57,473 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7b0ab8ddf0>
2025-05-05 16:59:57,473 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:59:57,474 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:59:57,474 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:59:57,474 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:59:57,474 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:59:57,474 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Gw4IDjvRKxHY3zoNAS9bIEcznZg=')])
2025-05-05 16:59:57,474 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:59:57,475 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,475 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,476 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,476 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 16:59:57,477 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 16:59:57,477 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 16:59:57,477 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,478 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 16:59:57,478 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 16:59:57,478 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 16:59:57,496 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 16:59:57,496 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7f7b0a7ce390>
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 16:59:57,497 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'tHEkjdvM/TvnPzYZLYCYeLpFFHM=')])
2025-05-05 16:59:57,497 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 16:59:57,497 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,498 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,498 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,498 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,499 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 16:59:57,499 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 16:59:57,510 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 17:00:01,359 - rag-chatbot - INFO - Menerima kueri chat: 'halo'
2025-05-05 17:00:01,359 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 17:00:01,361 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "halo", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:00:01,382 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:00:01,382 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 17:00:01,382 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:01,387 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:01,387 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 17:00:01,392 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=16000479373.ManagementAPD.pdf, similarity=0.5469751251019652
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Hasil: chunk_id=132, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5427201279449579
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Hasil: chunk_id=83, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5420662972429859
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Hasil: chunk_id=129, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334462086393301
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Hasil: chunk_id=134, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334289828964767
2025-05-05 17:00:01,392 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 17:00:01,392 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 17:00:01,393 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nTidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording\n8 Shooter / Driller                      Internal Use Only\na. Face Shield  : Selalu memakai safety  glasses  atau goggles  ketika memakai face \nshield . Pemakaian face shield  saja tidak dianggap cukup untuk melindungi mata.  \nb. Welding Helmet  : Safety  glasses  atau goggles  harus dipakai ketika memakai  \n welding helmet . \n3. Pelindung Telinga  \na. Ketika tidak menggunakan ear plugs /earmuff  anda, simpan di  tempat yang bersih, \nsejuk dan k ering.  \nb. Jika ear plugs  foam  anda kotor, sobek atau keras, jangan digunakan lagi.  \nc. Jika ear plugs  PVC and a kotor, anda bisa membersihkannya dengan larutan sabun \nyang lembut dengan air. Kemudian keringkan. Jika sobek atau rapuh jangan \ndigunakan lagi.  \nd. Periksa selalu earmuffs  anda terhadap retakan di  sekitar foam cups . Jika earmuffs  \nanda rusak, minta untuk diperbaiki sesegera mungkin.  \n4. Pelindung Tangan dan Lengan  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nSetianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis\n6 Crew Drilling \u2013 Preloading dan\nAir Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording 8 Shooter / Driller Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n\n\n\nPERTANYAAN: halo\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 17:00:02,525 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'halo'
2025-05-05 17:00:02,525 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,529 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:02,539 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 28
2025-05-05 17:00:02,539 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 28
2025-05-05 17:00:02,539 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,544 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:02,546 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 28
2025-05-05 17:00:02,546 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,550 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:02,552 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 28
2025-05-05 17:00:02,552 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,556 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:02,557 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 28
2025-05-05 17:00:02,557 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,561 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:00:02,562 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 28
2025-05-05 17:00:02,562 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:00:02,565 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,281 - rag-chatbot - INFO - Menerima kueri chat: 'halo'
2025-05-05 17:02:05,281 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 17:02:05,281 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "halo", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:02:05,307 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:02:05,307 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 17:02:05,307 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,312 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,312 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 17:02:05,317 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Hasil: chunk_id=7, dokumen=16000479373.ManagementAPD.pdf, similarity=0.5469751251019652
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Hasil: chunk_id=132, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5427201279449579
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Hasil: chunk_id=83, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5420662972429859
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Hasil: chunk_id=129, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334462086393301
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Hasil: chunk_id=134, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.5334289828964767
2025-05-05 17:02:05,317 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 17:02:05,317 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 17:02:05,317 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nbenda -benda kecil ,panas, atau uap panas, radiasi\ngelombang elektromagnetik yang mengion\nmaupun yang tidak mengion, pancaran cahaya,\nbenturan atau pukulan benda keras atau benda\ntajam .\n\uf0a1Jenis alat pelindung mata dan muka terdiri\ndari kacamata pengaman (spectacles), goggles,\ntameng muka (face shield), masker selam,\ntameng muka dan kacamata pengaman dalam\nkesatuan (full face masker) .\n\n\uf0a1Alat pelindung telinga adalah alat pelindung yang berfungsi untuk\nmelindungi alat pendengaran terhadap kebisingan atau tekanan .\n\uf0a1Jenis alat pelindung telinga terdiri dari sumbat telinga (ear plug) dan\npenutup telinga (ear muff) .\n\n\uf0a1Alat pelindung pernapasan beserta\nperlengkapannya adalah alat pelindung yang\nberfungsi untuk melindungi organ pernapasan\ndengan cara menyalurkan udara bersih dan\nsehat dan/atau menyaring cemaran bahan\nkimia, mikro -organisme, partikel yang berupa\ndebu, kabut (aerosol), uap, asap, gas/ fume,\ndan sebagainya .\n\uf0a1Jenis alat pelindung pernapasan dan\n\n\nDOKUMEN 2: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\nTidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording\n8 Shooter / Driller                      Internal Use Only\na. Face Shield  : Selalu memakai safety  glasses  atau goggles  ketika memakai face \nshield . Pemakaian face shield  saja tidak dianggap cukup untuk melindungi mata.  \nb. Welding Helmet  : Safety  glasses  atau goggles  harus dipakai ketika memakai  \n welding helmet . \n3. Pelindung Telinga  \na. Ketika tidak menggunakan ear plugs /earmuff  anda, simpan di  tempat yang bersih, \nsejuk dan k ering.  \nb. Jika ear plugs  foam  anda kotor, sobek atau keras, jangan digunakan lagi.  \nc. Jika ear plugs  PVC and a kotor, anda bisa membersihkannya dengan larutan sabun \nyang lembut dengan air. Kemudian keringkan. Jika sobek atau rapuh jangan \ndigunakan lagi.  \nd. Periksa selalu earmuffs  anda terhadap retakan di  sekitar foam cups . Jika earmuffs  \nanda rusak, minta untuk diperbaiki sesegera mungkin.  \n4. Pelindung Tangan dan Lengan  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nSetianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali Welding Electrical Chemical Fire Fighting NO. FUNGSI / JABATAN Welding Apparel Welding Goggles / Helmet Respirator Under Welding Helmet Powered Air Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis\n6 Crew Drilling \u2013 Preloading dan\nAir Purifying Respirator Welding Helmet Set Respirator Welding Mask Welding Hand Gloves Arc Flash Suit*** High Voltage Electrical Helmet Face Shield ** Electrical Safety Shoes Sarung Tangan Elektrik Chemical Apron Chemical Goggles Chemical Shield Chemical Resistance Boot Hydrocarbon & Chemical Hand Gloves Fire Helmet Fire Suit Fire Gloves Fire Boots DWO / WS 1 Driller 1 x 2 1 x 2 1 x 2 1 x 2 2 Derrickman 1 x 2 1 x 2 1 x 2 1 x 2 3 Floorman 4 Driver Host 5 Helper 6 Mud Boy / Cutting Man 7 Operator Rig / Hoist 1 x 2 1 x 2 1 x 2 1 x 2 8 Roustabout 9 Company Man 1 x 2 1 x 2 1 x 2 1 x 2 10 WOWS Supervisor / Rig Supt / Toolpusher 1 x 2 1 x 2 1 x 2 1 x 2 SURVEY SEISMIK 1 Party Chief 2 Seismologist 3 Head Topo / Drilling / Observer 4 Petugas Handak 5 Crew Rintis 6 Crew Drilling \u2013 Preloading dan Redrill 7 Crew Recording 8 Shooter / Driller Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n\n\n\nPERTANYAAN: halo\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 17:02:05,847 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'halo'
2025-05-05 17:02:05,847 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,851 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,862 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 29
2025-05-05 17:02:05,862 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 29
2025-05-05 17:02:05,862 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,867 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,869 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 29
2025-05-05 17:02:05,869 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,874 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,876 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 29
2025-05-05 17:02:05,876 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,881 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,881 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 29
2025-05-05 17:02:05,881 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,884 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:05,885 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 29
2025-05-05 17:02:05,885 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:05,888 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:23,163 - rag-chatbot - INFO - Menerima kueri chat: 'informasi dan jawaban terkait alat pelindung diri (APD) berdasarkan dokumen yang tersedia'
2025-05-05 17:02:23,164 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 17:02:23,164 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "embedString", "parameter": {"inputString": "informasi dan jawaban terkait alat pelindung diri (APD) berdasarkan dokumen yang tersedia", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:02:23,173 - RemoteCallHandler - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:02:23,173 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 17:02:23,173 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:23,178 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:23,178 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 17:02:23,183 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Hasil: chunk_id=51, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.8164816146040448
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Hasil: chunk_id=11, dokumen=16000479373.ManagementAPD.pdf, similarity=0.8008198023331061
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Hasil: chunk_id=58, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7935948371887207
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Hasil: chunk_id=68, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7870527740434642
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Hasil: chunk_id=52, dokumen=Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf, similarity=0.7857294550972866
2025-05-05 17:02:23,183 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 17:02:23,183 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 17:02:23,183 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Alat Pelindung Diri (APD) di Lingkungan Regional 4 (1).pdf (standard_safety)\n--------------------------------------\npenggunaan APD yang ditetapkan.  \n2. APD yang sudah tidak layak pakai (pecah, deformasi, aus, putus , rusak \nkarena pemakaian atau tidak dapat dipakai lagi) dapat digantikan dengan \nyang baru.  \n3. APD yang digunakan  tidak melebi hi batas waktu kadaluwarsa . \n4. Desain  Coverall  dan Helm Keselamatan mengacu pada SK Direktur \nUtama Pertamina (Persero) No. Kpts -65/C00000/2012 tanggal 10 \nDesember 2012.  \n5. Pelaksanaan pelatihan APD meliputi:  \na. Pelatihan, penyuluhan, induction , briefing  dengan meng undang para \npekerja . \nb. Informasi mengenai jenis, penggunaan, standar, pemakaian, \nperawatan dan inspeksi mengenai  APD. \nc. Feedback  baik berupa saran, hasil tes, maupun form terkait hasil \nkegiatan, misal persetujuan form safety  induction  dari tenaga kerja.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\nTATA KERJA ORGANISAS I  \nFUNGSI  : HSSE  NOMOR  : B8-021/PPC04100 /2022 -S9\ndengan mengacu pada  Lampiran 4  dan pemeriksaan jumlah APD \ndengan mengacu pada  Lampiran 6 . \n4. Officer Safety  mengembalikan APD yang sudah diperiksa kepada \nUser  dilengkapi dengan keterangan sesuai/tidak sesuai dengan \nmenggunakan Formulir Berita Acara Pemeriksaan APD Nomor F-\n004/B8 -021/PPC04100/2022 -S9 pada Lampiran  10. \n5. User  mengembalikan APD kepada Kontraktor.  \n6. Kontraktor menerima APD dan menindaklanjuti ( APD yang sesuai \ndidistribusikan, yang tidak sesuai diganti).  \nE. Pemusnahan Alat Pelindung Diri  \n1. User  mengembalikan APD rusak/cacat produk/ kadaluwarsa  kepada \nOfficer Safety  dengan mengisi formulir F-005/B8 -\n021/PPC04100/2022 -S9 pada Lampiran  11. \n2. Officer Safety  melakukan pencatatan data APD rusak/ kadaluwarsa  \n3. Superintendent Fie ld HSSE  Ops mengumpulkan seluruh APD yang \nbekas/rusak/ kadaluwarsa  sebelum dimusnahkan.  \n4. Superintendent Field HSSE  Ops melakukan pemilahan  dan\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \nPERMINTAAN  ALAT PELINDUNG DIRI (APD)  Phase User  Superintendent Field \nHSSE Ops  SCM Support & Receiving  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n   \n \nMulai \n1. Mengajukan permintaan \nAPD \n2. Mengajukan proses \npengadaan APD \n3. Melakukan Pemeriksaan APD  \n4. Mendistribusikan APD  ke \nUser dan mencatat  \npermintaan APD ke daftar \nstok \n5. Menerima  APD \nSelesai  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:21:22Dokumen Tidak Terkendali\n   \n \n \n \nINSPEKSI  ALAT PELINDUNG DIRI (APD)  Phase User  Officer Safety  Superintendent Field \nHSSE Ops  Asst. Manager Safety \nZona  Komite HSSE/Loss \nPrevention Committee  \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n \n     \n \nMulai \n1. Menyiapkan jadwal \ninspeksi APD  \n2. Mengkoordinasikan \npemeriksaan APD di \nwilayah kerjanya masing -\nJUDUL  : PENGELOLAAN ALAT PELINDUNG \nDIRI (APD)  DI LINGKUNGAN \nREGIONAL 4  REVISI KE  : \uf0520 \uf02a1 \uf02a2 \uf02a3 \uf02a4 \nBERLAKU TMT  : 30 November  2022  \nHAL : 2 dari 7 \n \n6. Apabil a stok tercukupi untuk kebutuhan APD ditambah dengan safety \nfactor  10%, maka dilakukan operasional pembagian dan evaluasi \npemakaian.  \n7. Apabila stok tidak tercukupi untuk keutuhan APD tertentu ditambah \ndengan  safety factor  10%, maka dilakukan proses pengadaan . \n8. Spesifikasi APD untuk tamu dan kontraktor mengacu pada Lampiran 4, \nkecuali desain dan warna. Desain dan warna disesuaikan dengan \nketentuan perusahaan kontraktor /mitra kerja masing -masing yang \nbermitra dengan PT Pertamina EP Cepu (Regional 4) . \n9. APD untuk mitra kerja sebelum didistribusikan kepada mitra \nkerja/kontraktor wajib dilakukan inspeksi oleh fungsi HSSE.  \n10. Perawata n APD dilakukan mengikuti ketentuan perawatan dari produsen \nAPD atau mengacu pada ketentuan Lampiran 4.\n\n\nDOKUMEN 2: 16000479373.ManagementAPD.pdf (standard_safety)\n--------------------------------------\nharus dibuang dan/atau dimusnahkan .\n2) APD yang habis masa pakainya/kadaluarsa serta mengandung bahan\nberbahaya, harus dimusnahkan sesuai dengan peraturan perundangan -\nundangan .\n3) Pemusnahan APD yang mengandung bahan berbahaya harus\ndilengkapi dengan berita acara pemusnahan .\n\uf0a1Kemampuan perlindungan yang kurang\nsempurna\n\u25aaTidak tepat\n\u25aaSalah cara penggunaan\n\u25aaKualitas APD\n\uf0a1Sering APD tidak dipakai karena kurang nyaman\n\uf0a1Mengganggu penampilan\n\uf0a1dll\nThank you!\n\n\n\nPERTANYAAN: informasi dan jawaban terkait alat pelindung diri (APD) berdasarkan dokumen yang tersedia\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 17:02:31,931 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'informasi dan jawaban terkait alat pelindung diri (APD) berdasarkan dokumen yang tersedia'
2025-05-05 17:02:31,931 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,936 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:31,946 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 30
2025-05-05 17:02:31,946 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 30
2025-05-05 17:02:31,946 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,952 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:31,954 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 5 dari kueri ID 30
2025-05-05 17:02:31,954 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,958 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:31,959 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 30
2025-05-05 17:02:31,959 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,965 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:31,966 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 30
2025-05-05 17:02:31,966 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,971 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:02:31,973 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 11 dari kueri ID 30
2025-05-05 17:02:31,973 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:02:31,977 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:37,944 - rag-chatbot - INFO - Menerima kueri chat: 'Berikan saya prosedur safety untuk bekerja di ketinggian, terutama pada monkey board'
2025-05-05 17:08:37,944 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 17:08:37,944 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "embedString", "parameter": {"inputString": "Berikan saya prosedur safety untuk bekerja di ketinggian, terutama pada monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:08:37,968 - RemoteCallHandler - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:08:37,968 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 17:08:37,968 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:37,974 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:37,974 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 17:08:37,980 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.8358251550301832
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.8186193216669978
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7718020217536689
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7672959843521137
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7574271252838224
2025-05-05 17:08:37,980 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 17:08:37,980 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 17:08:37,980 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\n\n\nPERTANYAAN: Berikan saya prosedur safety untuk bekerja di ketinggian, terutama pada monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 17:08:44,770 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'Berikan saya prosedur safety untuk bekerja di ketinggian, terutama pada monkey board'
2025-05-05 17:08:44,770 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,774 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:44,785 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 31
2025-05-05 17:08:44,785 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 31
2025-05-05 17:08:44,785 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,790 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:44,792 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 31
2025-05-05 17:08:44,792 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,798 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:44,799 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 31
2025-05-05 17:08:44,800 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,804 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:44,806 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 31
2025-05-05 17:08:44,806 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,809 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:44,810 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 31
2025-05-05 17:08:44,810 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:44,814 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:55,803 - rag-chatbot - INFO - Permintaan download dokumen ID: 10
2025-05-05 17:08:55,803 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:08:55,809 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:08:55,810 - rag-chatbot - INFO - Mengirim file: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, path: uploads/50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf
2025-05-05 17:10:37,626 - rag-chatbot - INFO - Permintaan download dokumen ID: 10
2025-05-05 17:10:37,626 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:10:37,631 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:10:37,632 - rag-chatbot - INFO - Mengirim file: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, path: uploads/50e6e6bd-49e0-466a-a50c-1a11c7595b98.pdf
2025-05-05 17:18:51,577 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan standar osha bekerja di ketinggian'
2025-05-05 17:18:51,577 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 17:18:51,578 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "embedString", "parameter": {"inputString": "jelaskan standar osha bekerja di ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:18:51,601 - RemoteCallHandler - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 17:18:51,601 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 17:18:51,601 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:51,607 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:51,607 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 17:18:51,611 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6923515200614929
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6635432243347168
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6508817284773761
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Hasil: chunk_id=36, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6478769006875917
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Hasil: chunk_id=37, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6438835859298706
2025-05-05 17:18:51,611 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 17:18:51,611 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 17:18:51,611 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 5, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\nInitial *)  Paraf  Initial **)  Paraf  \n         \n         \n         \n         \n         \nNote : * ) Initial dan Paraf Fungsi Penanggung Jawab STK  \n**) Initial dan Paraf Fungsi Pengendali STK  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 1 dari 2  \n \n \n \nI. TUJUAN  \nSebagai acuan untuk melaksanakan proses Pekerjaan di Ketinggian ( Monkey \nBoard ). \n \nII. METODE/TEKNIK/ALAT  \nMetode  : - \nTeknik  : - \nAlat :  \nBekerja ditempat ketinggian  (Monkey Board ) harus memakai peralatan safety \npendukung  terpasang dengan baik dan aman. Adapun alat peralatan yang \ndipergunakan dalam bekerja di ketinggian ( Monkey Board ) yaitu :\n1. Perlengkapan safety  seperti coverall , safety shoes , sarung tangan, \nkacamata, helmet  dengan chain strap.  \n2. Self Contained  Breathing Apparatus  (SCBA) untuk sumur dengan hazard  \nH2S. \n3. Full body hardness.  \n4. Fall arrestor.  \n5. Counter balance.  \n6. Escape chair.  \n \nIII. KUALIFIKASI PELAKSANA  \nMemiliki Sertifikat sebagai berikut:  \nDerrickman  Operator Menara Perawatan Sumur (OMPS)  \n \nIV. INDIKATOR & UKURAN KEBERHASILAN  \nUkuran keberhasilan dari TKI ini adalah :  \n1. Kegiatan pekerjaan di ketinggian dapat terlaksana dengan baik dan aman \nserta sesuai dengan yang telah diprogramkan . \n2. Pekerjaan di ketinggian dilakukan sesuai dengan Tata Kerja Individu ini. \n2. Pekerjaan selesai tepat waktu.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN\n\n\n\nPERTANYAAN: jelaskan standar osha bekerja di ketinggian\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 17:18:57,548 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan standar osha bekerja di ketinggian'
2025-05-05 17:18:57,548 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,554 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:57,565 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 32
2025-05-05 17:18:57,565 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 32
2025-05-05 17:18:57,565 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,570 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:57,573 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 32
2025-05-05 17:18:57,573 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,578 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:57,579 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 32
2025-05-05 17:18:57,579 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,584 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:57,586 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 32
2025-05-05 17:18:57,586 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,589 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 17:18:57,590 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 32
2025-05-05 17:18:57,590 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 17:18:57,595 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 20:54:07,957 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 20:54:07,958 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 20:54:07,958 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 20:54:07,958 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 20:54:07,959 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 20:54:07,974 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 20:54:07,975 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d7144711850>
2025-05-05 20:54:07,975 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 20:54:07,976 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 20:54:07,976 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 20:54:07,976 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 20:54:07,976 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 20:54:07,976 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'IruNCm0yOrPNQFb3w3SNEkqbmuw=')])
2025-05-05 20:54:07,977 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 20:54:07,977 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 20:54:07,978 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 20:54:07,978 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 20:54:07,978 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 20:54:07,979 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-05 20:54:08,630 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 20:54:08,630 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 20:54:08,630 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,631 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 20:54:08,631 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 20:54:08,631 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 20:54:08,642 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 20:54:08,643 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d71447f9f40>
2025-05-05 20:54:08,643 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 20:54:08,644 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 20:54:08,644 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 20:54:08,644 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 20:54:08,644 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 20:54:08,644 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'ERK6IZ357rZRM3p3q9EUpX5bGFU=')])
2025-05-05 20:54:08,644 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 20:54:08,644 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,645 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,645 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,645 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,646 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 20:54:08,646 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 20:54:08,647 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 20:54:08,664 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:12:44,327 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:12:44,328 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:12:44,328 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:12:44,328 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:12:44,328 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:12:44,329 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:12:44,329 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:44,329 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:44,329 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:12:44,329 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:12:44,330 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:44,330 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,954 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:12:45,955 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,955 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:12:45,955 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:12:45,956 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:12:45,974 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:12:45,975 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7e470d56b830>
2025-05-05 21:12:45,975 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:12:45,975 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:12:45,975 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:12:45,975 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:12:45,976 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:12:45,977 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'8YDr2sSwLQGzGN5ziI+7r7hnVWI=')])
2025-05-05 21:12:45,978 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:12:45,978 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,981 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,981 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,981 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v2-moe-GGUF", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:12:45,987 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not found: nomic-embed-text-v2-moe-GGUF

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "nomic-embed-text-v2-moe-GGUF",
      "totalModels": 1
    }
2025-05-05 21:12:45,987 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("nomic-embed-text-v2-moe-GGUF")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not found: nomic-embed-text-v2-moe-GGUF

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "nomic-embed-text-v2-moe-GGUF",
      "totalModels": 1
    }

2025-05-05 21:12:46,003 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:17:34,260 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:34,260 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:34,261 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:17:34,261 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:17:34,261 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:34,261 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,437 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:17:35,438 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,438 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:17:35,439 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:17:35,439 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:17:35,458 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:17:35,459 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75e8bdf007a0>
2025-05-05 21:17:35,459 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:17:35,459 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:17:35,460 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:17:35,460 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:17:35,460 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:17:35,460 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'FdJjOFDF5XvawXfREKp8bU54kQk=')])
2025-05-05 21:17:35,460 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:17:35,461 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,462 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,462 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,462 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v2-moe", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:17:35,463 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }
2025-05-05 21:17:35,464 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("nomic-embed-text-v2-moe")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }

2025-05-05 21:17:35,478 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:18:38,785 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:38,786 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:38,786 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:18:38,786 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:18:38,786 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:38,786 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,214 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:18:40,215 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,215 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:18:40,215 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:18:40,216 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:18:40,235 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:18:40,236 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c1d5f50ea20>
2025-05-05 21:18:40,236 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:18:40,236 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:18:40,236 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:18:40,236 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:18:40,236 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:18:40,237 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'dQEM2TFwMCkfcwZlli/fUOxzCII=')])
2025-05-05 21:18:40,237 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:18:40,237 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,238 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,239 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,239 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:18:40,241 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not found: nomic-embed-text-v2

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "nomic-embed-text-v2",
      "totalModels": 1
    }
2025-05-05 21:18:40,241 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("nomic-embed-text-v2")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not found: nomic-embed-text-v2

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "nomic-embed-text-v2",
      "totalModels": 1
    }

2025-05-05 21:18:40,254 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:21:07,486 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:07,486 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:07,486 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:21:07,486 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:21:07,487 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:07,487 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,879 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:21:08,880 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,880 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:21:08,881 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:21:08,882 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:21:08,917 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:21:08,921 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7b544bd734a0>
2025-05-05 21:21:08,921 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:21:08,922 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:21:08,922 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:21:08,922 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:21:08,922 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:21:08,922 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'QDgdp64FJanVNn4SIfXmP1PP0+c=')])
2025-05-05 21:21:08,922 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:21:08,923 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,923 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,923 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,923 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v2-moe", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:08,925 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }
2025-05-05 21:21:08,926 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("nomic-embed-text-v2-moe")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }

2025-05-05 21:21:08,939 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:21:50,509 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:50,509 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:50,510 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:21:50,510 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:21:50,510 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:50,510 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,130 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:21:52,131 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,131 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:21:52,131 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:21:52,132 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:21:52,152 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:21:52,153 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7cf19776b920>
2025-05-05 21:21:52,153 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:21:52,153 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:21:52,153 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:21:52,154 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:21:52,154 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:21:52,154 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'HpmxDZvo4hw3z7zdiHSxIcyAy9E=')])
2025-05-05 21:21:52,154 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:21:52,155 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,155 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,155 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,156 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "/home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:21:52,157 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not found: /home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "/home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf",
      "totalModels": 1
    }
2025-05-05 21:21:52,158 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("/home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not found: /home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "/home/e206/.lmstudio/models/nomic-ai/nomic-embed-text-v2-moe-GGUF/nomic-embed-text-v2-moe.Q4_K_S.gguf",
      "totalModels": 1
    }

2025-05-05 21:21:52,174 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:23:47,446 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:47,446 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:47,447 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:23:47,447 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:23:47,447 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:47,447 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,297 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:23:49,298 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,298 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:23:49,298 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:23:49,300 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:23:49,320 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:23:49,321 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x721d6d5da480>
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:23:49,321 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'fjsveTdpEc84x+vDj6KsDym6iUA=')])
2025-05-05 21:23:49,321 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:23:49,322 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,322 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,322 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,322 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v2-moe", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:23:49,324 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }
2025-05-05 21:23:49,324 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("nomic-embed-text-v2-moe")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not in domain: nomic-embed-text-v2-moe

  Additional information from server:
    {
      "actualDomain": "llm",
      "code": "generic.domainMismatch",
      "expectedDomain": "embedding",
      "path": "nomic-embed-text-v2-moe"
    }

2025-05-05 21:23:49,337 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:32:42,145 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:42,146 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:42,146 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:32:42,146 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:32:42,147 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:42,147 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,585 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:32:43,586 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,586 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:32:43,587 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:32:43,588 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:32:43,607 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:32:43,608 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x732c59973590>
2025-05-05 21:32:43,608 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:32:43,608 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:32:43,608 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:32:43,608 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:32:43,608 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:32:43,610 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b't0jKst7gvIVrcGVhOlrLGzywKco=')])
2025-05-05 21:32:43,610 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:32:43,610 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,611 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,612 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,612 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:32:43,613 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "text-embedding-granite-embedding-278m-multilingual"}
2025-05-05 21:32:43,614 - GetOrLoadEndpoint - INFO - {"endpoint": "getOrLoad", "event": "Unloading other JIT model", "model_key": "text-embedding-granite-embedding-278m-multilingual", "suggestion": "You can disable this behavior by going to LM Studio -> Settings -> Developer -> Turn OFF JIT models auto-evict", "unloaded_model_key": "text-embedding-nomic-embed-text-v1.5"}
2025-05-05 21:32:43,614 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Unloading other JIT model", "model_key": "text-embedding-granite-embedding-278m-multilingual", "unloaded_model": {"architecture": "nomic-bert", "contextLength": 2048, "displayName": "Nomic Embed Text v1.5", "format": "gguf", "identifier": "nomic-embed-text-v1.5", "instanceReference": "k0qXuxQhzgW1qlKhReGoJPIW", "maxContextLength": 2048, "modelKey": "text-embedding-nomic-embed-text-v1.5", "path": "nomic-ai/nomic-embed-text-v1.5-GGUF/nomic-embed-text-v1.5.Q4_K_M.gguf", "sizeBytes": 84106624, "type": "embedding"}, "unloaded_model_key": "text-embedding-nomic-embed-text-v1.5"}
2025-05-05 21:32:44,207 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:32:44,208 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:32:44,208 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,208 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:32:44,208 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:32:44,209 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:32:44,220 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:32:44,221 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x732c599d9f70>
2025-05-05 21:32:44,221 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:32:44,221 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:32:44,221 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:32:44,222 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:32:44,222 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:32:44,222 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'TgSRzRuMUFhciMJUoVBzw+fTBC0=')])
2025-05-05 21:32:44,222 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:32:44,222 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,223 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,223 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,223 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,224 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:32:44,224 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:32:44,224 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:32:44,235 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:36:44,692 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:44,692 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:44,693 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:36:44,693 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:36:44,693 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:44,693 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:44,693 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:44,694 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:44,694 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:36:44,694 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:36:44,694 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:44,694 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,411 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:36:46,412 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,412 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:36:46,412 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:36:46,414 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:36:46,444 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:36:46,445 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70cbc77a54f0>
2025-05-05 21:36:46,445 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:36:46,445 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:36:46,445 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:36:46,445 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:36:46,445 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:36:46,446 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'UjMAMwCZzV/M0tsZHLeJIi11ulA=')])
2025-05-05 21:36:46,446 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:36:46,446 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,447 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,447 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,447 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:36:46,448 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:36:46,448 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:36:46,449 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,449 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:36:46,449 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:36:46,449 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:36:46,467 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:36:46,467 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70cbc77d60f0>
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:36:46,468 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'sLYdm7LI21Lzo+N5RUHkNHg65Lc=')])
2025-05-05 21:36:46,468 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:36:46,468 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,469 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,469 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,469 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,470 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:36:46,470 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:36:46,470 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:36:46,480 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:37:31,057 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:37:31,057 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:37:31,057 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:37:31,057 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:37:31,058 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:37:31,058 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:37:31,058 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:31,058 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:31,059 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:37:31,059 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:37:31,059 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:31,059 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,570 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:37:32,570 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,571 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:37:32,571 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:37:32,572 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:37:32,590 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:37:32,591 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7ec9db8c6c30>
2025-05-05 21:37:32,591 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:37:32,591 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:37:32,591 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:37:32,591 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:37:32,591 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:37:32,592 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'I0LkF9+ez63rD39uUmNZ1OD6TNY=')])
2025-05-05 21:37:32,592 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:37:32,592 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,593 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,593 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,594 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "/home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:37:32,596 - rag-chatbot - ERROR - Error saat inisialisasi model: Model get/load error: 

  Model not found: /home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-granite-embedding-278m-multilingual",
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "/home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf",
      "totalModels": 2
    }
2025-05-05 21:37:32,596 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 34, in <module>
    embedding_model = lms.embedding_model("/home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioServerError: Model get/load error: 

  Model not found: /home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf

  Additional information from server:
    {
      "availablePathsSample": [
        "text-embedding-granite-embedding-278m-multilingual",
        "text-embedding-nomic-embed-text-v1.5"
      ],
      "code": "generic.pathNotFound",
      "path": "/home/e206/.lmstudio/models/lmstudio-community/granite-embedding-278m-multilingual-GGUF/granite-embedding-278m-multilingual-Q4_K_M.gguf",
      "totalModels": 2
    }

2025-05-05 21:37:32,613 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:38:14,082 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:14,082 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:14,082 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:38:14,082 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:38:14,083 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:14,083 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,555 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:38:15,556 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,556 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:38:15,556 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:38:15,557 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:38:15,575 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:38:15,576 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75ff5096b530>
2025-05-05 21:38:15,576 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:38:15,576 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:38:15,576 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:38:15,576 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:38:15,576 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:38:15,577 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'vPQqMPXyrJcin08VZrCEZcdHdB0=')])
2025-05-05 21:38:15,577 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:38:15,577 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,578 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,578 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,578 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:38:15,580 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:38:15,580 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:38:15,581 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,581 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:38:15,581 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:38:15,581 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:38:15,602 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:38:15,604 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75ff509d1eb0>
2025-05-05 21:38:15,604 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:38:15,605 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:38:15,605 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:38:15,605 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:38:15,605 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:38:15,605 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'C2P2xzMmEsSw6qO1PmDLKuVHkWM=')])
2025-05-05 21:38:15,605 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:38:15,606 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,606 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,606 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,606 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,607 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:38:15,607 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:38:15,608 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:38:15,619 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:39:01,095 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:01,096 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:01,096 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:39:01,096 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:39:01,097 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:01,097 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:01,097 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:01,097 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:01,097 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:39:01,098 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:39:01,098 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:01,098 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,304 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:39:02,304 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,305 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:39:02,305 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:39:02,306 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:39:02,324 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:39:02,325 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x707c877adf40>
2025-05-05 21:39:02,325 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:39:02,326 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:39:02,326 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:39:02,326 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:39:02,326 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:39:02,326 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'8N5L3jfXkaG/qH57d3iSBPzXcVg=')])
2025-05-05 21:39:02,327 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:39:02,327 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,328 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,328 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,328 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:39:02,329 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:39:02,329 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:39:02,329 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,330 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:39:02,330 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:39:02,331 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:39:02,349 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:39:02,350 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x707c877e9fd0>
2025-05-05 21:39:02,350 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:39:02,350 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:39:02,350 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:39:02,350 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:39:02,350 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:39:02,351 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'yMLzAaEA3tSUxBicU4VpEJvjdew=')])
2025-05-05 21:39:02,351 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:39:02,351 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,353 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,353 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,353 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,356 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:39:02,357 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:39:02,357 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:39:02,373 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:40:06,691 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:06,692 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:06,692 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:40:06,692 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:40:06,692 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:06,692 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:06,692 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:06,693 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:06,693 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:40:06,693 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:40:06,694 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:06,694 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,120 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:40:09,120 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,121 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:40:09,121 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:40:09,122 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:40:09,140 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:40:09,141 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d6f4156b290>
2025-05-05 21:40:09,141 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:40:09,142 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:40:09,142 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:40:09,142 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:40:09,142 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:40:09,142 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'wtXkBF5tp5SuxG8tCkQtMvN4Pac=')])
2025-05-05 21:40:09,142 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:40:09,142 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,143 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,143 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,143 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:09,144 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:40:09,144 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:40:09,145 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,145 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:40:09,145 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:40:09,145 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:40:09,161 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:40:09,162 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7d6f415e1d60>
2025-05-05 21:40:09,162 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:40:09,162 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:40:09,162 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:40:09,162 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:40:09,162 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:40:09,163 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'8wD/KPRweOtcuni9QEenP/rrUac=')])
2025-05-05 21:40:09,164 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:40:09,164 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,165 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,166 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,166 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,168 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:09,169 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:40:09,169 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:40:09,185 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:40:38,937 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:38,937 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:38,938 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:40:38,938 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:40:38,938 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:38,938 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:38,938 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:38,938 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:38,939 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:40:38,939 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:40:38,939 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:38,939 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,960 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:40:41,961 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,961 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:40:41,961 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:40:41,962 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:40:41,981 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:40:41,981 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7992b0f6b590>
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:40:41,982 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'l9p5nfwzNuxKCiCt39fi+glOy14=')])
2025-05-05 21:40:41,983 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:40:41,983 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,983 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,984 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,984 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:40:41,987 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-05 21:40:42,373 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:40:42,373 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:40:42,374 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,374 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:40:42,374 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:40:42,375 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:40:42,391 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:40:42,392 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7992b0fe2150>
2025-05-05 21:40:42,392 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:40:42,392 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:40:42,392 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:40:42,392 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:40:42,392 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:40:42,393 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Jxoi19QohLbctpio4jM2eOMp5yY=')])
2025-05-05 21:40:42,393 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:40:42,393 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,393 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,394 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,394 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,395 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:40:42,395 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:40:42,395 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:40:42,406 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:41:05,749 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:05,749 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:05,749 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:41:05,749 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:41:05,750 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:05,750 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:05,750 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:05,750 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:05,750 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:41:05,750 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:41:05,751 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:05,751 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,486 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:41:11,487 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,487 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:41:11,487 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:41:11,488 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:41:11,507 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:41:11,508 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75b456ffe960>
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:41:11,508 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'4wyDE8dJkwT5B3ghyM1q4c/4uCE=')])
2025-05-05 21:41:11,509 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:41:11,509 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,510 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,510 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,510 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:41:11,511 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-05 21:41:11,865 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:41:11,865 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:41:11,866 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,866 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:41:11,866 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:41:11,867 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:41:11,884 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:41:11,885 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x75b4555ddfa0>
2025-05-05 21:41:11,885 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:41:11,885 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:41:11,885 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:41:11,885 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:41:11,885 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:41:11,886 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6KkiCLjAAUzVqNFnLIuEd1kTfbM=')])
2025-05-05 21:41:11,886 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:41:11,886 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,887 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,887 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,887 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,888 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:41:11,888 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:41:11,888 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:41:11,899 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:43:51,997 - _AsyncWebsocketThread - ERROR - {"event": "Websocket failed, terminating session.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
Traceback (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 422, in _receive_messages
    await self._process_next_message()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 389, in _process_next_message
    message = await ws.receive_json()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 941, in receive_json
    data = await self.receive_text(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 851, in receive_text
    event = await self.receive(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 811, in receive
    raise event
httpx_ws._exceptions.WebSocketNetworkError
Stack (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1030, in _bootstrap
    self._bootstrap_inner()
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 287, in run
    asyncio.run(self._main_task())
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 426, in _receive_messages
    self._logger.exception("Websocket failed, terminating session.")
2025-05-05 21:43:51,997 - _AsyncWebsocketThread - ERROR - {"event": "Websocket failed, terminating session.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
Traceback (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 422, in _receive_messages
    await self._process_next_message()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 389, in _process_next_message
    message = await ws.receive_json()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 941, in receive_json
    data = await self.receive_text(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 851, in receive_text
    event = await self.receive(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 811, in receive
    raise event
httpx_ws._exceptions.WebSocketNetworkError
Stack (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1030, in _bootstrap
    self._bootstrap_inner()
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 287, in run
    asyncio.run(self._main_task())
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 426, in _receive_messages
    self._logger.exception("Websocket failed, terminating session.")
2025-05-05 21:43:51,998 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:43:51,998 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:43:51,998 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:43:51,998 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:43:51,998 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:43:51,999 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:43:51,999 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:43:51,999 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:04,215 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:04,216 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:04,216 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:04,216 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,628 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:44:05,629 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,629 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:44:05,629 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:44:05,630 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:44:05,656 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:44:05,657 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c97b4f6f770>
2025-05-05 21:44:05,657 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:44:05,657 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:44:05,657 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:44:05,657 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:44:05,657 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:44:05,658 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'PXT1oy1RqTReUVybL7rNM5FAwVQ=')])
2025-05-05 21:44:05,658 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:44:05,658 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,659 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,660 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,660 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:44:05,661 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "text-embedding-granite-embedding-278m-multilingual"}
2025-05-05 21:44:06,311 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:44:06,311 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:44:06,311 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,311 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:44:06,312 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:44:06,312 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:44:06,327 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:44:06,328 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c97b4fd6180>
2025-05-05 21:44:06,328 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:44:06,329 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:44:06,329 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:44:06,329 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:44:06,329 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:44:06,329 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'hKHs7n/f6CyAdXQxVr7njy4QZKo=')])
2025-05-05 21:44:06,329 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:44:06,329 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,330 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,330 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,330 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,331 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:44:06,331 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:44:06,331 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:44:06,341 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:45:01,734 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:01,735 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:01,735 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:01,735 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:01,735 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:01,735 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:01,735 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:01,736 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:01,736 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:01,736 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:01,736 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:01,736 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,956 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:45:02,957 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,957 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:45:02,958 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:45:02,959 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:45:02,980 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:45:02,981 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c3f0db833e0>
2025-05-05 21:45:02,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:45:02,981 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:45:02,981 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:45:02,981 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:45:02,981 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:45:02,982 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'PvW7KqMJsbH41jfZJTNTgoeZBKs=')])
2025-05-05 21:45:02,982 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:45:02,982 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,983 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,984 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,984 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:02,986 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:45:02,986 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:45:02,986 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:02,986 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:45:02,987 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:45:02,987 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:45:03,005 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:45:03,006 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7c3f0dbf9e20>
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:45:03,006 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'gLPT73Yx8YGeSGZuEb1yvBHo3f0=')])
2025-05-05 21:45:03,006 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:45:03,007 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:03,007 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:03,007 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:03,007 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:03,009 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:03,009 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:45:03,009 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:45:03,019 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:45:21,854 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:21,855 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:21,855 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:21,855 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:21,855 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:21,856 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:21,856 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:21,856 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:21,856 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:21,856 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:21,856 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:21,857 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,023 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:45:23,023 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,023 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:45:23,024 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:45:23,025 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:45:23,043 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:45:23,044 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73b410f73200>
2025-05-05 21:45:23,044 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:45:23,044 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:45:23,044 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:45:23,044 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:45:23,044 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:45:23,045 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'8YwmFHvQByUnKPsqr8XswztJ3Y8=')])
2025-05-05 21:45:23,045 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:45:23,045 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,046 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,046 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,046 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:23,047 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:45:23,048 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:45:23,048 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,048 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:45:23,048 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:45:23,049 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:45:23,076 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:45:23,077 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73b410fe1c10>
2025-05-05 21:45:23,077 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:45:23,078 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:45:23,078 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:45:23,078 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:45:23,078 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:45:23,078 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'1MzXS9ISvD8lr8zVa90xnCJaLYg=')])
2025-05-05 21:45:23,079 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:45:23,079 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,079 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,080 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,080 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,081 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:23,081 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:45:23,081 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:45:23,091 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:45:51,643 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:51,643 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:51,644 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:51,644 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:51,644 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:51,644 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:45:51,644 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:51,644 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:51,645 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:45:51,645 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:45:51,645 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:51,645 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,932 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:45:52,933 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,933 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:45:52,933 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:45:52,934 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:45:52,952 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:45:52,953 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7622ee76b740>
2025-05-05 21:45:52,953 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:45:52,953 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:45:52,954 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:45:52,954 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:45:52,954 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:45:52,954 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'WSLNgY2aAKiO/Cto+iKfg3j97QA=')])
2025-05-05 21:45:52,955 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:45:52,955 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,957 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,957 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,957 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:45:52,958 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:45:52,958 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:45:52,959 - rag-chatbot - ERROR - Error saat inisialisasi model: llm() got an unexpected keyword argument 'namespace'
2025-05-05 21:45:52,998 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm(namespace='default')  # atau namespace lain sesuai setting LM Studio
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/contextlib.py", line 81, in inner
    return func(*args, **kwds)
           ^^^^^^^^^^^^^^^^^^^
TypeError: llm() got an unexpected keyword argument 'namespace'

2025-05-05 21:45:53,009 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:46:07,536 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:07,536 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:07,537 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:46:07,537 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:46:07,537 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:07,537 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,639 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:46:10,640 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,640 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:46:10,640 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:46:10,641 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:46:10,659 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:46:10,660 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73bd7ef6b9e0>
2025-05-05 21:46:10,660 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:46:10,661 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:46:10,661 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:46:10,661 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:46:10,661 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:46:10,661 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Xm5AaleWYuLkY4IFaUrYsf6WAaw=')])
2025-05-05 21:46:10,661 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:46:10,661 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,662 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,662 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,662 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:46:10,664 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:46:10,664 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:46:10,664 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,664 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:46:10,664 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:46:10,665 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:46:10,682 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:46:10,682 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73bd7efd2090>
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:46:10,683 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'u+naBO4360tuK1sibKhtr8RecKk=')])
2025-05-05 21:46:10,683 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:46:10,683 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,684 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,684 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,684 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,685 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:46:10,685 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:46:10,685 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 38, in <module>
    llm_model = lms.llm()
                ^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:46:10,698 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:51:49,921 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:49,922 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:49,922 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:51:49,922 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:51:49,922 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:49,922 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:49,922 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:49,923 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:49,923 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:51:49,923 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:51:49,923 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:49,923 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,177 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:51:51,177 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,177 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:51:51,178 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:51:51,179 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:51:51,196 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:51:51,197 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78e95498ae40>
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:51:51,197 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'GBLIlpVMwQdUyoptxYm1cE8c8wo=')])
2025-05-05 21:51:51,198 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:51:51,198 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,199 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,199 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,199 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:51:51,201 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:51:51,201 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:51:51,201 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,201 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:51:51,201 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:51:51,202 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:51:51,219 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:51:51,220 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78e9544fdf10>
2025-05-05 21:51:51,220 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:51:51,220 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:51:51,220 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:51:51,220 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:51:51,220 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:51:51,221 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Ev+n+TlF0TIEt9DSptxKce+LcDg=')])
2025-05-05 21:51:51,221 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:51:51,221 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,222 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,222 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,222 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,224 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:51:51,225 - rag-chatbot - ERROR - Error saat inisialisasi model: Could not get model handle in namespace llm (no models are currently loaded).
2025-05-05 21:51:51,225 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 39, in <module>
    llm_model = client.llm.model()
                ^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioClientError: Could not get model handle in namespace llm (no models are currently loaded).

2025-05-05 21:51:51,242 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:53:11,295 - _AsyncWebsocketThread - ERROR - {"event": "Websocket failed, terminating session.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
Traceback (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 422, in _receive_messages
    await self._process_next_message()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 389, in _process_next_message
    message = await ws.receive_json()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 941, in receive_json
    data = await self.receive_text(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 851, in receive_text
    event = await self.receive(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 811, in receive
    raise event
httpx_ws._exceptions.WebSocketNetworkError
Stack (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1030, in _bootstrap
    self._bootstrap_inner()
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 287, in run
    asyncio.run(self._main_task())
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 426, in _receive_messages
    self._logger.exception("Websocket failed, terminating session.")
2025-05-05 21:53:11,295 - _AsyncWebsocketThread - ERROR - {"event": "Websocket failed, terminating session.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
Traceback (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 422, in _receive_messages
    await self._process_next_message()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 389, in _process_next_message
    message = await ws.receive_json()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 941, in receive_json
    data = await self.receive_text(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 851, in receive_text
    event = await self.receive(timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/e206/miniconda3/lib/python3.12/site-packages/httpx_ws/_api.py", line 811, in receive
    raise event
httpx_ws._exceptions.WebSocketNetworkError
Stack (most recent call last):
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1030, in _bootstrap
    self._bootstrap_inner()
  File "/home/e206/miniconda3/lib/python3.12/threading.py", line 1073, in _bootstrap_inner
    self.run()
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 287, in run
    asyncio.run(self._main_task())
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 194, in run
    return runner.run(main)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 674, in run_until_complete
    self.run_forever()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 641, in run_forever
    self._run_once()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/base_events.py", line 1987, in _run_once
    handle._run()
  File "/home/e206/miniconda3/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "/home/e206/miniconda3/lib/python3.12/site-packages/lmstudio/sync_api.py", line 426, in _receive_messages
    self._logger.exception("Websocket failed, terminating session.")
2025-05-05 21:53:11,295 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:53:11,296 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:53:11,296 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:53:11,296 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 21:53:11,296 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:53:11,296 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 21:53:11,297 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:53:11,297 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:50,127 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:50,127 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:50,127 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:50,127 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,930 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 21:56:51,931 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,931 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:56:51,931 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:56:51,932 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:56:51,950 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:56:51,951 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7eb4f1967590>
2025-05-05 21:56:51,951 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:56:51,951 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:56:51,951 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:56:51,952 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:56:51,952 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:56:51,952 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'XNr2BO6CmuDuPCVMU9+klll9cGI=')])
2025-05-05 21:56:51,952 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:56:51,952 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,954 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,955 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,955 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-granite-embedding-278m-multilingual", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:56:51,956 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "text-embedding-granite-embedding-278m-multilingual"}
2025-05-05 21:56:52,594 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 21:56:52,594 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 21:56:52,594 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,595 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 21:56:52,595 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 21:56:52,596 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 21:56:52,608 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 21:56:52,608 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7eb4f19ce2a0>
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 21:56:52,609 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'1dz+14b4wMnyhCyjCEU9+Q0Zesg=')])
2025-05-05 21:56:52,609 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 21:56:52,609 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,610 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,610 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,610 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,612 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:56:52,612 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 21:56:52,624 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 21:58:52,012 - rag-chatbot - INFO - Menerima kueri chat: 'coba jelaskan tentang dokumen osha-29-subpart m'
2025-05-05 21:58:52,012 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 21:58:52,014 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "coba jelaskan tentang dokumen osha-29-subpart m", "modelSpecifier": {"query": {"identifier": "text-embedding-granite-embedding-278m-multilingual"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:58:52,040 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 21:58:52,040 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 21:58:52,040 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 21:58:52,045 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 21:58:52,046 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 21:58:52,051 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 21:58:52,051 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 21:58:52,051 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 21:58:52,052 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: coba jelaskan tentang dokumen osha-29-subpart m\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 21:58:55,510 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'coba jelaskan tentang dokumen osha-29-subpart m'
2025-05-05 21:58:55,510 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 21:58:55,514 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 21:58:55,526 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 33
2025-05-05 22:01:10,017 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan safety di Bukaan & Lubang Lantai Bukaan tangga atau platform:'
2025-05-05 22:01:10,017 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:01:10,017 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "jelaskan safety di Bukaan & Lubang Lantai Bukaan tangga atau platform:", "modelSpecifier": {"query": {"identifier": "text-embedding-granite-embedding-278m-multilingual"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:01:10,041 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:01:10,041 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:01:10,041 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:01:10,046 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:01:10,046 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:01:10,050 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:01:10,050 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:01:10,050 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:01:10,050 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: jelaskan safety di Bukaan & Lubang Lantai Bukaan tangga atau platform:\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:01:15,281 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan safety di Bukaan & Lubang Lantai Bukaan tangga atau platform:'
2025-05-05 22:01:15,281 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:01:15,286 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:01:15,289 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 34
2025-05-05 22:01:41,864 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan safety Floor Openings & Holes   Ladder -way opening or platform:'
2025-05-05 22:01:41,864 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:01:41,864 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "embedString", "parameter": {"inputString": "jelaskan safety Floor Openings & Holes   Ladder -way opening or platform:", "modelSpecifier": {"query": {"identifier": "text-embedding-granite-embedding-278m-multilingual"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:01:41,886 - RemoteCallHandler - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:01:41,886 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:01:41,886 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:01:41,892 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:01:41,892 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:01:41,896 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:01:41,896 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:01:41,896 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:01:41,896 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: jelaskan safety Floor Openings & Holes   Ladder -way opening or platform:\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:01:44,929 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan safety Floor Openings & Holes   Ladder -way opening or platform:'
2025-05-05 22:01:44,930 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:01:44,934 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:01:44,936 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 35
2025-05-05 22:02:09,399 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen safety dengan monkey board'
2025-05-05 22:02:09,399 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:02:09,399 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "embedString", "parameter": {"inputString": "dokumen safety dengan monkey board", "modelSpecifier": {"query": {"identifier": "text-embedding-granite-embedding-278m-multilingual"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:02:09,422 - RemoteCallHandler - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:02:09,422 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:02:09,422 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:02:09,426 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:02:09,426 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:02:09,430 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:02:09,430 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:02:09,430 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:02:09,430 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: dokumen safety dengan monkey board\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:02:14,037 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen safety dengan monkey board'
2025-05-05 22:02:14,037 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:02:14,042 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:02:14,054 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 36
2025-05-05 22:03:32,183 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:32,183 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:32,184 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:03:32,184 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:03:32,184 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:32,184 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:32,184 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:32,184 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:32,185 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:03:32,185 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:03:32,185 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:32,185 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,321 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:03:33,322 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,322 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:03:33,323 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:03:33,324 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:03:33,359 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:03:33,363 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x79a22119c470>
2025-05-05 22:03:33,363 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:03:33,363 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:03:33,364 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:03:33,364 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:03:33,364 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:03:33,364 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Oz3XwRV2OuTHIfSFn0gVr8Ityb0=')])
2025-05-05 22:03:33,365 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:03:33,365 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,367 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,367 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,367 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:33,369 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:03:33,369 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:03:33,369 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,369 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:03:33,370 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:03:33,370 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:03:33,386 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:03:33,386 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x79a2211ce1e0>
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:03:33,387 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'UDfhhRAG7ge2qI1PHWc1qHnIDso=')])
2025-05-05 22:03:33,387 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:03:33,387 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,388 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,388 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,388 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,389 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:33,389 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:03:33,400 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:03:43,063 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen safety dengan monkey board'
2025-05-05 22:03:43,063 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:03:43,065 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "dokumen safety dengan monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:43,079 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:03:43,079 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:03:43,079 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:43,086 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:43,086 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:03:43,092 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 22:03:43,092 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7916502952575684
2025-05-05 22:03:43,093 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7826712131500244
2025-05-05 22:03:43,093 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7362857618161595
2025-05-05 22:03:43,093 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7217534350303761
2025-05-05 22:03:43,093 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7191362380981445
2025-05-05 22:03:43,093 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:03:43,093 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 22:03:43,095 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\n\n\nPERTANYAAN: dokumen safety dengan monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:03:49,346 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen safety dengan monkey board'
2025-05-05 22:03:49,346 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,350 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:49,362 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 37
2025-05-05 22:03:49,362 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 37
2025-05-05 22:03:49,362 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,367 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:49,372 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 37
2025-05-05 22:03:49,372 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,376 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:49,378 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 37
2025-05-05 22:03:49,378 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,383 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:49,384 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 37
2025-05-05 22:03:49,384 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,387 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:03:49,389 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 37
2025-05-05 22:03:49,389 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:03:49,393 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:09,951 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen safety tentang   Bukaan & Lubang Lantai Bukaan tangga atau platform:'
2025-05-05 22:04:09,951 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:04:09,951 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "dokumen safety tentang   Bukaan & Lubang Lantai Bukaan tangga atau platform:", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:04:09,973 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:04:09,973 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:04:09,973 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:09,977 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:09,977 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:04:09,982 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7525485305459196
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7432425924250373
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7276756329729789
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Hasil: chunk_id=37, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.718965845169674
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7144742352397161
2025-05-05 22:04:09,982 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:04:09,982 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 22:04:09,982 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n1. Perlengkapan safety  seperti coverall , safety shoes , sarung tangan, \nkacamata, helmet  dengan chain strap.  \n2. Self Contained  Breathing Apparatus  (SCBA) untuk sumur dengan hazard  \nH2S. \n3. Full body hardness.  \n4. Fall arrestor.  \n5. Counter balance.  \n6. Escape chair.  \n \nIII. KUALIFIKASI PELAKSANA  \nMemiliki Sertifikat sebagai berikut:  \nDerrickman  Operator Menara Perawatan Sumur (OMPS)  \n \nIV. INDIKATOR & UKURAN KEBERHASILAN  \nUkuran keberhasilan dari TKI ini adalah :  \n1. Kegiatan pekerjaan di ketinggian dapat terlaksana dengan baik dan aman \nserta sesuai dengan yang telah diprogramkan . \n2. Pekerjaan di ketinggian dilakukan sesuai dengan Tata Kerja Individu ini. \n2. Pekerjaan selesai tepat waktu.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n\n\n\nPERTANYAAN: dokumen safety tentang   Bukaan & Lubang Lantai Bukaan tangga atau platform:\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:04:15,063 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen safety tentang   Bukaan & Lubang Lantai Bukaan tangga atau platform:'
2025-05-05 22:04:15,063 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,069 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:15,080 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 38
2025-05-05 22:04:15,081 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 38
2025-05-05 22:04:15,081 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,086 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:15,089 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 38
2025-05-05 22:04:15,089 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,094 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:15,097 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 38
2025-05-05 22:04:15,097 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,101 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:15,101 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 38
2025-05-05 22:04:15,101 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,106 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:04:15,107 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 38
2025-05-05 22:04:15,107 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:04:15,112 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:04,702 - rag-chatbot - INFO - Menerima kueri chat: 'dokumen osha'
2025-05-05 22:05:04,702 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:05:04,702 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "embedString", "parameter": {"inputString": "dokumen osha", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:05:04,717 - RemoteCallHandler - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:05:04,718 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:05:04,718 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:04,723 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:04,724 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:05:04,727 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=160, dokumen=osha-29-cfr-1926-subpart-m.pdf, similarity=0.5807162427048435
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=173, dokumen=osha-29-cfr-1926-subpart-m.pdf, similarity=0.5530741316311899
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=37, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.5272626248285063
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=33, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.524812008474111
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Hasil: chunk_id=41, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.5243536488377493
2025-05-05 22:05:04,727 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:05:04,727 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-05 22:05:04,728 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: osha-29-cfr-1926-subpart-m.pdf (general_document)\n--------------------------------------\nOSHA 29 CFR 1926 Subpart M \n(1926.500 -503) \nOSHA 29 CFR 1910 Subparts \nD,F, I (1910.23, 66, 67, and 132  \n\nImportance of Fall Protection     \n  \n\u2022Each year, approximately 14 percent  \n of fatal workplace injuries are caused  \nby falls (Source: U.S. Dept. of Labor).  \n \n \n \n\u2022In construction, approximately  \n 150-200 workers are killed annually  \n due to falls (Source:  OSHA).  \n \n \n\nFall Protection Requirements  \nGeneral Industry (OSHA 1910) \u2013 must have in place if working at or \nabove four (4) feet  \n \n   Maritime (OSHA 1915) \u2013 must have in place if working at or above \nfive (5) feet  \n \n   Construction (OSHA 1926) \u2013 must have in  place if working at or \nabove six (6) feet  \n \n\nDetermining (Plan)  \n\u2022Employer should determine if walking/working surfaces \nhave structural  \nstrength and integrity to  \nsupport employees safely.  \n \n\u2022Employer should verify  \nEmployees  are allowed to  \nwork only on surfaces  \nhaving strength and integrity.  \n \n\nCompetent Person\nguarded by one of the following:  \n\u2022Rail \n\u2022Roller  \n\u2022Picket fence  \n\u2022Half door  \n\u2022Equivalent barrier  \n \n\nPowered Platforms, Manlifts ,  \nVehicle -Mounted Work Platforms  \n\u2022Employees on working  \nplatforms shall be  \nprotected by a  \npersonal fall arrest system.  \n \n\u2022System must meet  \nrequirements of OSHA 29 CFR  \n1910.66, Appendix C, Section l.  \n\nVehicle Mounted Elevating &  \nRotating Work Platforms  \n\u2022Body belt should be worn and  lanyard attached to \nboom or basket when working from an aerial lift.  \n \n\nRamps, Runways, Other Walkways  \n\u2022Employees must be protected from falling by guardrail \nsystems.  \n\nTraining  \n\u2022Employer must provide training to all affected employees.  \n\u2022Suggested topics:  \n   \u25aa Overview of related OSHA regulations.  \n   \u25aa Nature of fall hazards in workplace.  \n   \u25aa Correct procedures for assembling, maintaining,  \n     disassembling and inspecting fall protection  \n     equipment to be used.  \n   \u25aa Use and operation of guardrail, personal fall\n\n\nDOKUMEN 2: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\n1. Perlengkapan safety  seperti coverall , safety shoes , sarung tangan, \nkacamata, helmet  dengan chain strap.  \n2. Self Contained  Breathing Apparatus  (SCBA) untuk sumur dengan hazard  \nH2S. \n3. Full body hardness.  \n4. Fall arrestor.  \n5. Counter balance.  \n6. Escape chair.  \n \nIII. KUALIFIKASI PELAKSANA  \nMemiliki Sertifikat sebagai berikut:  \nDerrickman  Operator Menara Perawatan Sumur (OMPS)  \n \nIV. INDIKATOR & UKURAN KEBERHASILAN  \nUkuran keberhasilan dari TKI ini adalah :  \n1. Kegiatan pekerjaan di ketinggian dapat terlaksana dengan baik dan aman \nserta sesuai dengan yang telah diprogramkan . \n2. Pekerjaan di ketinggian dilakukan sesuai dengan Tata Kerja Individu ini. \n2. Pekerjaan selesai tepat waktu.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN\nKAN  \nTANGGAL  TANDA  \nTANGAN  \n1 Wahyu  Krisdianto  \n(Sr Engineer  Well Intervention)  Penyusun  18 Oktober  \n2023  19 Oktober  \n2023   \n2 Dedi Herawan  \n(Sr Engineer  DWI Engineering)  Penyusun  18 Oktober  \n2023  19 Oktober  \n2023   \n \n \n3 Agus  Rusmaryanto  \n(Asst.  Manager  DWI Planning  & \nMethod)   \nNarasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n \n4 Saroha  Gultom  \n(Asst.  Manager  Well Intervention  \nOperation)   \nNarasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n5 Haryo  Yuristyanto  \n(Asst.  Manager  Drilling Operation)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n6 R.M.  Dhimas  Hastantyo  Irwan  \n(Asst.  Manager  Drilling Engineering)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n \n7 Benny  Hariara  \n(Asst.  Manager  Drilling \nOperation)   \nNarasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n8 Arief Budiman  \n(Sr Engineer  DWI Operations)  Narasumber  18 Oktober  \n2023  19 Oktober  \n2023   \n \n \n9 Alvin  Qadri Keswani\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 3 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nInstruksi Kerja  \nA. Persiapan  \n1. Pre-job safety meeting.  \n2. Membaca dan mengerti program.  \n3. Yakinka n bahwa escape chair , full body hardness, fall arrestor maupun  counter \nbalance  terpasang dengan kondisi baik dan bekerja dengan baik.  \n4. Yakinkan manila rope terpasang dan kondisinya baik.  \n5. Derrick Man memakai full body hardness  yang dikaitkan dengan fall arrestor  \nataupun counter balance  sebelum naik ke Monkey Board . \nB. Pelaksanaan   \n1. Derrick Man mulai  naik melalui  tangga yang tersedia  menuju  ke Monkey Board  \ndengan  mengkaitkan Hook Safety  pengait  ke anak  tangga  setiap 2 langkah. \nHal ini  dilakukan  terus  menerus  dengan  baik dan aman  sampai di Monkey \nBoard . \n2. Setelah Derrick Man sampai di Monkey Board  sebelum  memulai  pekerjaan,\n\n\n\nPERTANYAAN: dokumen osha\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:05:11,896 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'dokumen osha'
2025-05-05 22:05:11,896 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,900 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:11,911 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 39
2025-05-05 22:05:11,911 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 13 dari kueri ID 39
2025-05-05 22:05:11,912 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,915 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:11,917 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 13 dari kueri ID 39
2025-05-05 22:05:11,917 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,921 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:11,924 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 39
2025-05-05 22:05:11,924 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,928 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:11,931 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 39
2025-05-05 22:05:11,932 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,936 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:05:11,937 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 39
2025-05-05 22:05:11,937 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:05:11,942 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:13:09,248 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:09,248 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:09,249 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:13:09,249 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:13:09,249 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:09,249 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:09,249 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:09,250 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:09,250 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:13:09,250 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:13:09,250 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:09,250 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,923 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:13:10,924 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,924 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:13:10,924 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:13:10,925 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:13:10,945 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:13:10,946 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7df27abe30b0>
2025-05-05 22:13:10,946 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:13:10,947 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:13:10,947 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:13:10,947 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:13:10,947 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:13:10,947 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'f58hZpWWHKzoqkjiaBPcuIXQZeM=')])
2025-05-05 22:13:10,947 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:13:10,948 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,948 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,948 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,948 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:13:10,949 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}
2025-05-05 22:13:11,590 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:13:11,591 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:13:11,591 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,591 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:13:11,591 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:13:11,592 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:13:11,605 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:13:11,606 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7df27a7d5fd0>
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:13:11,606 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'EF50IoAYIpQPfbmio4qWAo6kvD4=')])
2025-05-05 22:13:11,607 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:13:11,607 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,607 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,607 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,607 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,609 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:13:11,609 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:13:11,619 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:14:11,009 - rag-chatbot - INFO - Menerima kueri chat: 'osha sub m dokumen tentang apa'
2025-05-05 22:14:11,010 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:14:11,011 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "osha sub m dokumen tentang apa", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:14:11,039 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:14:11,040 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:14:11,040 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:14:11,046 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:14:11,046 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:14:11,052 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:14:11,052 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:14:11,052 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:14:11,054 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: osha sub m dokumen tentang apa\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:14:13,766 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'osha sub m dokumen tentang apa'
2025-05-05 22:14:13,766 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:14:13,771 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:14:13,783 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 40
2025-05-05 22:15:31,053 - rag-chatbot - INFO - Menerima kueri chat: 'data safety untuk monkey board'
2025-05-05 22:15:31,053 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:15:31,053 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "data safety untuk monkey board", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:15:31,074 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:15:31,075 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:15:31,075 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:15:31,079 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:15:31,079 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:15:31,083 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:15:31,083 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:15:31,083 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:15:31,083 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: data safety untuk monkey board\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:15:34,448 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'data safety untuk monkey board'
2025-05-05 22:15:34,448 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:15:34,454 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:15:34,466 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 41
2025-05-05 22:22:32,528 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:32,528 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:32,528 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:22:32,529 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:22:32,529 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:32,529 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:32,529 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:32,529 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:32,529 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:22:32,529 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:22:32,530 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:32,530 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,779 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:22:38,781 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,781 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:22:38,781 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:22:38,782 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:22:38,813 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:22:38,814 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x786edc1e2030>
2025-05-05 22:22:38,814 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:22:38,814 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:22:38,814 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:22:38,814 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:22:38,814 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:22:38,816 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'z1c8yoUCphLazMIAzCB5AW+gJEk=')])
2025-05-05 22:22:38,816 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:22:38,816 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,817 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,817 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,817 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:38,818 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}
2025-05-05 22:22:39,442 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:22:39,442 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:39,456 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:22:39,456 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:22:39,456 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,457 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:22:39,457 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:22:39,457 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:22:39,468 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:22:39,469 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x786edb9ceab0>
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:22:39,469 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'rYVrEwGUC/wOrbnSiX1Kqu1I9W4=')])
2025-05-05 22:22:39,469 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:22:39,470 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,470 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,470 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,470 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,471 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:22:39,471 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:22:39,482 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:23:36,674 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:36,674 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:36,675 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:23:36,675 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:23:36,675 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:36,675 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:36,675 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:36,675 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:36,676 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:23:36,676 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:23:36,676 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:36,676 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,801 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:23:37,802 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,802 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:23:37,803 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:23:37,804 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:23:37,823 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:23:37,824 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70518b16b7d0>
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:23:37,825 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'1HdxMenM7LLkwb22/GLuDEldEKI=')])
2025-05-05 22:23:37,826 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:23:37,826 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,828 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,829 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,829 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,831 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:23:37,831 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,850 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:23:37,850 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:23:37,850 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,851 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:23:37,851 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:23:37,851 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:23:37,862 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:23:37,863 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70518b1d2a80>
2025-05-05 22:23:37,863 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:23:37,863 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:23:37,864 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:23:37,864 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:23:37,864 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:23:37,864 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'BR0/rXQ0VdfE0PFFaGjIMO0a2hg=')])
2025-05-05 22:23:37,864 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:23:37,864 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,865 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,865 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,865 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,866 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:23:37,866 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:23:37,878 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:24:37,167 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:37,167 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:37,168 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:24:37,168 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:24:37,168 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:37,168 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:37,168 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:37,168 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:37,169 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:24:37,169 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:24:37,169 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:37,169 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,906 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:24:38,907 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,907 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:24:38,907 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:24:38,908 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:24:38,927 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:24:38,927 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x755597b77770>
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:24:38,928 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'/2tjoBJ4NGFMDjbYnXC3wYJpYHY=')])
2025-05-05 22:24:38,929 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:24:38,929 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,930 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,930 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,931 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,933 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:24:38,934 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,960 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:24:38,960 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:24:38,960 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,960 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:24:38,960 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:24:38,961 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:24:38,972 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:24:38,973 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x755597bde9c0>
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:24:38,973 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'f3L3UsqUCUXx3fiNTokq5pqILNo=')])
2025-05-05 22:24:38,974 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:24:38,974 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,975 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,975 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,975 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,976 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:24:38,976 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:24:38,991 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:27:34,340 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:34,341 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:34,341 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:27:34,341 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:27:34,342 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:34,342 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:34,342 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:34,342 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:34,342 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:27:34,342 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:27:34,342 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:34,342 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,735 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:27:35,736 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,736 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:27:35,737 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:27:35,738 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:27:35,758 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:27:35,759 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73e8add7be60>
2025-05-05 22:27:35,759 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:27:35,760 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:27:35,760 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:27:35,760 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:27:35,760 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:27:35,760 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'yE8AwUV8EV1S0l4Gw1+tKYTnRX4=')])
2025-05-05 22:27:35,760 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:27:35,761 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,761 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,761 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,762 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,763 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:27:35,763 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,780 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:27:35,780 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:27:35,780 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,780 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:27:35,780 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:27:35,781 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:27:35,794 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:27:35,795 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x73e8adde2d20>
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:27:35,795 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'A/fn6ESvj/4AUIunIm/4EzCQf/I=')])
2025-05-05 22:27:35,795 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:27:35,795 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,796 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,796 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,796 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,797 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:27:35,797 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:27:35,813 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:28:31,698 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:31,699 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:31,699 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:28:31,699 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:28:31,700 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:31,700 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:31,700 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:31,700 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:31,701 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:28:31,701 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:28:31,701 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:31,701 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,683 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:28:33,684 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,684 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:28:33,685 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:28:33,686 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:28:33,712 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:28:33,713 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd5119a06b0>
2025-05-05 22:28:33,713 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:28:33,713 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:28:33,713 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:28:33,714 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:28:33,714 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:28:33,714 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'l0Ka/hK/BDJfTSVNT2gKbWZIGCg=')])
2025-05-05 22:28:33,714 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:28:33,715 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,715 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,715 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,716 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:33,717 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-05 22:28:34,093 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:28:34,094 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:34,113 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:28:34,113 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:28:34,114 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,114 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:28:34,114 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:28:34,114 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:28:34,126 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:28:34,126 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7dd5119d2ba0>
2025-05-05 22:28:34,126 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:28:34,127 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:28:34,127 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:28:34,127 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:28:34,127 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:28:34,127 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Bw0i2qpIei3MJdusdsZ8AFihHsI=')])
2025-05-05 22:28:34,127 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:28:34,127 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,128 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,128 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,128 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,129 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:28:34,129 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:28:34,140 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:29:52,895 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:52,895 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:52,896 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:29:52,896 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:29:52,896 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:52,897 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:52,897 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:52,897 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:52,897 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:29:52,897 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:29:52,897 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:52,897 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,715 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:29:56,716 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,716 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:29:56,716 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:29:56,717 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:29:56,758 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:29:56,759 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70bdb65fa3f0>
2025-05-05 22:29:56,760 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:29:56,761 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:29:56,762 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:29:56,763 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:29:56,763 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:29:56,763 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'TmPTMT5tZYN554ihd29yO0bSSSE=')])
2025-05-05 22:29:56,764 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:29:56,764 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,765 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,765 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,765 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,766 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:29:56,767 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,788 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:29:56,788 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:29:56,788 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,788 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:29:56,788 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:29:56,789 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:29:56,802 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:29:56,803 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x70bdb61d1eb0>
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:29:56,803 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'C1ZpauHjTc7PYXdJi5K2nWwpGyQ=')])
2025-05-05 22:29:56,804 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:29:56,804 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,804 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,804 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,805 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,805 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:29:56,806 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:29:56,816 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:31:09,067 - rag-chatbot - INFO - Menerima kueri chat: 'pekerjaan di ketinggian (monkey board) dokumen'
2025-05-05 22:31:09,067 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:31:09,067 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "pekerjaan di ketinggian (monkey board) dokumen", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:31:09,091 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:31:09,091 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:31:09,091 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:31:09,096 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:31:09,096 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:31:09,100 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:31:09,100 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:31:09,100 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:31:09,102 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: pekerjaan di ketinggian (monkey board) dokumen\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:31:11,282 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'pekerjaan di ketinggian (monkey board) dokumen'
2025-05-05 22:31:11,282 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:31:11,288 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:31:11,300 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 42
2025-05-05 22:33:58,641 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:58,641 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:58,641 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:33:58,641 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:33:58,642 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:58,642 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:58,642 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:58,642 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:58,642 - httpcore.http11 - DEBUG - response_closed.started
2025-05-05 22:33:58,642 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-05 22:33:58,642 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:58,643 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,816 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-05 22:33:59,817 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,817 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:33:59,818 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:33:59,819 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:33:59,839 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:33:59,840 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7cde91967860>
2025-05-05 22:33:59,840 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:33:59,840 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:33:59,840 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:33:59,840 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:33:59,840 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:33:59,841 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'14mtK0UyVPE8z/0Z3lnkr7sEdNE=')])
2025-05-05 22:33:59,841 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:33:59,841 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,842 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,842 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,842 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,843 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-05 22:33:59,844 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,865 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:33:59,866 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-05 22:33:59,866 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,866 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-05 22:33:59,866 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-05 22:33:59,867 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-05 22:33:59,877 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-05 22:33:59,878 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7cde919cec00>
2025-05-05 22:33:59,878 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-05 22:33:59,878 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-05 22:33:59,878 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-05 22:33:59,878 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-05 22:33:59,878 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-05 22:33:59,879 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'fgzi0DGLt8usAvwNPjNgdOXqZKg=')])
2025-05-05 22:33:59,879 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-05 22:33:59,879 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,879 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,879 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,879 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,880 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:33:59,880 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-05 22:33:59,892 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-05 22:34:12,912 - rag-chatbot - INFO - Menerima kueri chat: 'monkey  board dokumen'
2025-05-05 22:34:12,912 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-05 22:34:12,912 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "monkey  board dokumen", "modelSpecifier": {"query": {"identifier": "text-embedding-trotr-paraphrase-multilingual-minilm-l12-v2"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:34:12,918 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-05 22:34:12,918 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-05 22:34:12,918 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:34:12,923 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:34:12,923 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-05 22:34:12,927 - rag-chatbot - INFO - Pencarian mengembalikan 0 hasil
2025-05-05 22:34:12,927 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-05 22:34:12,927 - rag-chatbot - WARNING - Tidak ditemukan dokumen yang relevan
2025-05-05 22:34:12,929 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Pertanyaan: monkey  board dokumen\n\nJawaban:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-05 22:34:14,892 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'monkey  board dokumen'
2025-05-05 22:34:14,892 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-05 22:34:14,897 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-05 22:34:14,909 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 43
2025-05-06 04:29:11,115 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:11,115 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:11,116 - httpcore.http11 - DEBUG - response_closed.started
2025-05-06 04:29:11,116 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-06 04:29:11,116 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:11,116 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:11,116 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:11,117 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:11,117 - httpcore.http11 - DEBUG - response_closed.started
2025-05-06 04:29:11,117 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-06 04:29:11,117 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:11,117 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,731 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-06 04:29:12,731 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,731 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-06 04:29:12,732 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-06 04:29:12,733 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-06 04:29:12,760 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-06 04:29:12,761 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x76ee8b173980>
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-06 04:29:12,761 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'xm0NsCNd6aDQCqVAk82yAm4Itpk=')])
2025-05-06 04:29:12,762 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-06 04:29:12,762 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,763 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,763 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,763 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:12,767 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-06 04:29:13,138 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-06 04:29:13,139 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:13,156 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:13,156 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-06 04:29:13,156 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,156 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-06 04:29:13,156 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-06 04:29:13,157 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-06 04:29:13,172 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-06 04:29:13,173 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x76ee8b1dac30>
2025-05-06 04:29:13,173 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-06 04:29:13,173 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-06 04:29:13,173 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-06 04:29:13,173 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-06 04:29:13,173 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-06 04:29:13,174 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'Od371k9PH3VQx3WLLp+DAtfaQ60=')])
2025-05-06 04:29:13,174 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-06 04:29:13,174 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,175 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,175 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,175 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,176 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:13,176 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-06 04:29:13,186 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-06 04:29:26,273 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan dokumen monkey board'
2025-05-06 04:29:26,273 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 04:29:26,273 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "jelaskan dokumen monkey board", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:26,280 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:29:26,280 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-06 04:29:26,280 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:26,285 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:26,285 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-06 04:29:26,289 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7612737501806424
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Hasil: chunk_id=43, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7172269866371469
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7155569835505201
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Hasil: chunk_id=38, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7140046570898569
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Hasil: chunk_id=40, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.6811286426935974
2025-05-06 04:29:26,289 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-06 04:29:26,289 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-06 04:29:26,291 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\nbalance  sebelum turun dari Monkey Board . \n10. Derrick Man mulai  turun  melalui  tangga yang tersedia  menuju  ke Floor dengan  \nmengkaitkan hook safety pengait  keanaktangga  setiap 2 langkah. Hal ini  \ndilakukan  terus  menerus  dengan  baik dan aman  sampai di floor.  \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n(MONKEY BOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : 2 dari 2  \n \n3. Tidak terjadi kecelakaan yang berakibat fatal terhadap keselamatan pekerja \n(zero accident ). \n4. Zero spill . \n \nV. LAMPIRAN  \nLampiran  1 \u2013 Pengertian  \nLampiran  2 \u2013 Referensi  \nLampiran  3 \u2013 Instruksi Kerja  \n \n \nDisiapkan oleh:  Disetujui oleh:  \nManager Organization & \nQuality Management  Manager DWI Engineering, \nP&E Regional  Manager DWI Operation \nRegional  \n      \n  \n \n \n \n \n \nUmbu Yudhi Wahono  Irbabul Lubab  Andy Mahyuni Harahap   \n \n \n \n \nTgl: 30 Oktober 2023  Tgl: 30 Oktober 2023  Tgl: 30 Oktober 2023   Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 1 \u2013 TKI No. C4-037/PPC21210/2023 -S9 \nPengertian  \n1. Derrick Man  adalah tugas utamanya yaitu bekerja diketinggian membantu driller \nmenyusun pipa -pipa bor pada monkey board yang berada diatas menara rig. Juga\n4. Monkey Board  adalah tempat menyandarkan bagian rangkaian pipa bor yang sedang \ntidak digunakan (pada saat dilakukan cabut pipa).  \n5. Packer  adalah alat yang berfungsi untuk pembatas (sealing) antara tubing dan casing, \ndrill pipe dengan casing.  \n6. Perusahaan adalah PT Pertamina EP Cepu (PEPC) Regional 4.  \n7. Rangkaian Pipa Produksi (RPP) adalah fluida yang berasal dari formasi, mengalir \ndari dasar lubang ke permukaan melalui tubing ( string ). \n \n Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \nLampiran 2 \u2013 TKI No.  C4-037/PPC21210/2023 -S9 \nReferensi  \n1. ISO 9001 : 2008 Klausul 7.5.1, tentang Pengendalian Produksi dan Penyediaan Jasa.  \n2. ISO 14001 : 2004 dan OHSAS 18001 : 2007, Klausal 4.4.6 , tentang Pengendalian \nOperasional.  \n3. SNI 13 -6910 -2002 mengenai Operasi Pemboran Darat dan Lepas Pantai di \nIndonesia -Pelaksanaan.   \nInternal Use Only\n\n\n\nPERTANYAAN: jelaskan dokumen monkey board\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:29:33,712 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan dokumen monkey board'
2025-05-06 04:29:33,712 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,718 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:33,729 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 44
2025-05-06 04:29:33,730 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 44
2025-05-06 04:29:33,730 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,735 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:33,738 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 44
2025-05-06 04:29:33,738 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,740 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:33,742 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 44
2025-05-06 04:29:33,742 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,745 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:33,746 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 44
2025-05-06 04:29:33,746 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,750 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:29:33,751 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 44
2025-05-06 04:29:33,751 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:29:33,755 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:11,686 - rag-chatbot - INFO - Menerima kueri chat: 'jelaskan dokumen NO: B.03-01 16600801201 9-59 REV-01'
2025-05-06 04:32:11,687 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 04:32:11,687 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 3, "endpoint": "embedString", "parameter": {"inputString": "jelaskan dokumen NO: B.03-01 \u201c16600801201 9-59 REV-01", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:32:11,705 - RemoteCallHandler - DEBUG - {"call_id": 3, "event": "Received RPC result", "json": {"callId": 3, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:32:11,705 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-06 04:32:11,705 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:11,710 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:11,710 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-06 04:32:11,716 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Hasil: chunk_id=204, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.70716923475266
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Hasil: chunk_id=32, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7046531858833556
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Hasil: chunk_id=361, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.6890359931609639
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Hasil: chunk_id=203, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.6884242110505242
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Hasil: chunk_id=227, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.6867475322930546
2025-05-06 04:32:11,716 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-06 04:32:11,716 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-06 04:32:11,717 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 2, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf (general_document)\n--------------------------------------\nNomor STK \nNamerali | Menjadi 8.05. i 15 Ok \u00a3 sesuai 014/CP0030/ Oktober 4 DND NKR xX \ndengan 2019-59 REV 12019 \n| Pedoman Oa | \n(STEF 2019 | | \nNote: \u201c) Initial dan Paraf Fungsi, Penanggung Jawab STK \n\"\") Initial dan Paraf Fungsi,Pengendali STK \n\u201c\u201c\u201c) DND : Defrinaldos, NKR (Nuredy Kusuma Rianto \nDengan Pemberlakukan Pedoman Nomor B:03-010/CP0030/ 2019-59 REV 01 tentang Pengelolaan Keselamatan \nBekerja di Ketinggian tanggal 20 Oktober 2019, maka Panduan NO. A-001/PKO.4-72/CP3010/2013-SO tentang \nPanduan bekerja di ketinggian dicabut. \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali\nTATA KERJA ORGANISASI \u00ab \nP4 PERTAMINA \nEP CEPU \nFUNGSI \nHEALTH, SAFETY, SECURITY & | NOMOR \nREVISI KE \nENVIRONMENTAL \nJUDUL \nPENGELOLAAN KESELAMATAN BEKERJA \nDI KETINGGIAN HALAMAN BERLAKU TMT: L/ Oktober 2019 \niii dari iii B.03-014/CPO030/2019-S9 REV-01 \n01 \nTIM PENYUSUN DAN NARASUMBER STK \nPenyusun\nmasyarakat) ketika pekerjaan berlangsung. 19 Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali Risiko dan Pencegahan Pada saat bekerja di atap miring, dua kondisi yang menjadi risiko pekerja terjatuh yaitu: bekerja di tepi atap dan pekerjaan yang dilakukan di atap dimana pekerja dapat tergelincir sehingga dapat jatuh. Keadaan yang mungkin meningkatkan risiko terjatuh dari atap yang miring seperti kemiringan atap, sifat permukaan dan kondisi cuaca, kelembabab. hujan dan pertumbuhan lumut: .dan angin kencang. Penghalang dan Platform Beberapa model penghalang atau platform yang dapat dijadikan sebagai pencegahan risiko terjatuh dapat dilihat pada gambar 9. Penghalang harus tinggi dan kuat cukup untuk menghalangi/ menghambat pekerja yang jatuh/ bergulur/meluncur dari lereng atap. Dimana kemungkinan pekerja dapat berjongkok/ lutup pada pagar pembatas perlu diberi pagar pembatas tambahan (intermediate guadrail) yang berfungsi untuk menghalangi pekerja yang terjatuh. Gambar 09. Pelindung pada Atap Miring Guard ra ht LN Ga ab Intermediate ID NGTUATARAI ti y sa Ha | 4 sala | P N board Let, ' KPrmediate \u00a3 1 aa y 13 $$ Ne i 3 LA | Ps \u2014 \"4 Ih Re board ! AN ra er ala 1 ri | ii | 11 Op\nNG. |\nIl RUANG LINGKUP... Wp O GP ena aan 1 \nIl. PENGERTIAN DANBWTASAN ion 1 \nA: PENGERTIAN Ne aa BE 2 \nB. BATASAN #9. BO cocoa kn 3 \nKK  BREFERENG ba Danone samaan 6 \nV DOKUMENTERKAIT &....o.ooooooo enek 6 \nVI. FUNGSI/ UNIRORGANISASI/JABATAN TERKAIT 0... 7 \nVIL. PROSEDUR Kenanga \"4 \nVIII. INDIKATOR UKURAN KEBERHASILAN 0. 8 \nPX, LAMPIKAN momen mna 8 \nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali\nTATA KERJA ORGANISASI \u2014 \nPERTAMINA \nEP CEPU \nFUNGSI \nHEALTH, SAFETY, SECURITY & \nENVIRONMENTAL \n| JUDUL \n| PENGELOLAAN KESELAMATAN BEKERJA \n| DI KETINGGIAN NOMOR \nREVISI KE B.03-014/CP0030/2019-59 REV-01 \n01 \nBERLAKU TMT: &42/ Oktober 2019 \nHALAMAN ii dari iii \nCATATAN PERUBAHAN) REVIEW DOKUMEN \nNomor Dokumen: Pedoman NO. A-001/PKO.4-07/CP3010/2013-S0 \n| \n5 H - Di H ak \n..\u201d Masan | Mtemyang Fei Sia | Diubah oleh \") | Diketahui Oleh \"\") \n| No | , | | Perubahan diubah Perubahan Ke InitidD |Paraf | Initial Paraf \nPerubahan N\nRangka perancah baja yang dapat digunakan harus didesain dan dibuat \nsesuai kriteria berikut: \na. Perancah pre-fabrikasi hanya boleh digunakan jika sesuai spesifikasi \nprodusen. \nb. Harus tersedia sertifikasi penuh mengenai asal dari produsen yang \ntelah disetujui.\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali\nHanya unit yang terdiri dari komponen-komponen lengkap yang boleh \ndigunakan, misalnya pelat dasar yang diperlukan untuk perancah pre- \nfabrikasi dan tidak ada kabel atau batang las yang akan digunakan \nuntuk mengamankan penahan. \nHanya pengguna perancah terlatih pada sistem tertentu yang akan \nmelakukan pemasangan dan pembongkaran perancah, dan-memiliki \nsertifikat dari pelatihan pendirian yang disetujui PT Pertamina EP \nCepu. \nSetiap kerusakan/penyok dari komponen perancah harus dipindahkan \ndari lokasi dengan segera. \nInspektur Perancah harus melaksanakan pemeriksaan pada keutuhan\n\n\nDOKUMEN 2: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nTATA KERJA INDIVIDU  \n \nPEKERJAAN DI KETINGGIAN  \n(MONKEY BOARD ) \n \nNo: C4 -037/PPC21210/2023 -S9 \nREVISI KE - \uf0520 \u007f1 \u007f2 \u007f3 \u007f4 \n \n \n \nPT PERTAMINA EP CEPU  \n(REGIONAL 4 ) \n \nDRILLING AND WELL INTERVENTION\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\nTATA KERJA INDIVIDU   \nFUNGSI  : DRILLING AND WELL INTERVENTION  NOMOR  : C4-037/PPC21210/2023 -S9 \nJUDUL  : PEKERJAAN DI KETINGGIAN ( MONKEY \nBOARD ) REVISI KE  : \uf052 0 \n1 \n2 \n3 \n4 \nBERLAKU TMT  : 1 Oktober 2023  \nHAL : i dari iii  \n \nLEMBAR PERSETUJUAN TKI  \nPROSES PERSETUJUAN DOKUMEN STK DARI PEJABAT TERKAIT  \nNO. STK  :  C4-037/PPC21210/2023 -S9 \nPERIHAL  : PEKERJAAN DI KETINGGIAN ( MONKEY BOARD ) \n \nDokumen TKI terlampir telah dirancang, disusun, diperiksa, disepakati, dan \nditandatangani oleh para pejabat terkait yang bertanggung jawab  di bawah ini:  \n \nNo  \nNAMA  & JABATAN  PERAN  \n(Penyusun /  \nNarasumber)  DITERIMA  \nTANGGAL  DITERUS\n\n\n\nPERTANYAAN: jelaskan dokumen NO: B.03-01 \u201c16600801201 9-59 REV-01\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:32:22,007 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'jelaskan dokumen NO: B.03-01 16600801201 9-59 REV-01'
2025-05-06 04:32:22,007 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,013 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:22,025 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 45
2025-05-06 04:32:22,025 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 45
2025-05-06 04:32:22,025 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,031 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:22,033 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 45
2025-05-06 04:32:22,033 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,037 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:22,039 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 45
2025-05-06 04:32:22,039 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,044 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:22,046 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 45
2025-05-06 04:32:22,046 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,051 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:32:22,052 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 45
2025-05-06 04:32:22,052 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:32:22,057 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:43,678 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya prosedur standar bekerja di ketinggian'
2025-05-06 04:35:43,679 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 04:35:43,679 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 4, "endpoint": "embedString", "parameter": {"inputString": "berikan saya prosedur standar bekerja di ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:35:43,704 - RemoteCallHandler - DEBUG - {"call_id": 4, "event": "Received RPC result", "json": {"callId": 4, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:35:43,704 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-06 04:35:43,704 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:43,709 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:43,709 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-06 04:35:43,714 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Hasil: chunk_id=208, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7367606382596686
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Hasil: chunk_id=206, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7221816016543879
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Hasil: chunk_id=487, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7164254953607634
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Hasil: chunk_id=283, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7079530954360962
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Hasil: chunk_id=220, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.706997275352478
2025-05-06 04:35:43,714 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-06 04:35:43,714 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-06 04:35:43,714 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 3, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf (general_document)\n--------------------------------------\nperancah dan atau bekerja di ketinggian. \n3. Focal Point adalah fungsi-fungsi terkait yang secara teratur meninjau \nprosedur dan merevisi bila diperlukan untuk tetap selaras dengan operasi, \npedoman kelompok dan\u201c persyaratan peraturan untuk mendapat \npersetujuan. Focal Point dalam-pengelolaan bekerja di ketinggian adalah \nEngineering dan HSSE! \n4. Inspektur Perancahyadalah\" individu yang telah mengikuti dan lolos dari \npelatihan Inspektur Perancah yang telah disetujui Perusahaan dan bukan \nbagian dari tim..konstruksi perancah tetapi berasal dari perusahaan yang \nsama. \n5. Lifting Gear.adalah rantai sling, tali kawat sling, ring, link, kait, klem girder, \nshacklewmata baut atau mata tali. \n6. Mitra Kerjasadalah-mitra strategis yang melaksanakan usaha pengelolaan \nkegiatan preduksi,migas di dalam wilayah kerja PEPC. \n7. Pengguna Perancah Berkompeten I adalah pengguna perancah yang \ntelah.mengikuti dan lolos dalam Pelatihan Pengguna Perancah Dasar Tahap\nmembuat akses selamat dalam penggunaan perancah. Membantu pekerja yang \nbertugas merencanakan, mengkoordinasikan, dan melaksanakan persyaratan \nserta standar perancah dan caraniain untuk akses bekerja di ketinggian. \n1. RUANG LINGKUP \n1.  TKO ini mengatur tentang-tugasisetan kewajiban serta tanggung jawab \nfungsi terkait pengelolaan'keselamatan bekerja di ketinggian di lingkungan \nPT Pertamina EP'Cepu (PEPGJ. \n2. TKO ini tidak mencakup-perarnicah yang didesain untuk beban berat atau lantai \nsementara wintuk. \u201cpekerjaan palsu\u201d seperti yang biasa digunakan dalam \nkonstruksi bangunan. Setiap pekerjaan menggunakan perancah besar yang \nmembutuhkan-perhitungan penuh dan anotasi gambar harus dilakukan oleh \nspesialis perancah kontraktor dan design engineers. \n3. TKO inj digunakan oleh personil yang bertugas untuk membuat perencanaan, \nkoordinasi, dan implementasi selanjutnya dari kebutuhan untuk akses dan \nperancah yang selamat.\natau anak tangga terakhir yang digunakan pekerja untuk berdiri. Selain itu terdapat pegangan yang sesuai untuk mengurangi risiko ketidakseimbangan. - Tempatkan tangga pada kemiringan yang tepat untuk meminimalisasi risiko tergelincirnya tangga (idealnya pada kemiringan 75\u201d terhadap horizontal atau 1 m keluar.dari bangunan untuk setiap ketinggian 4 m). Lihat gambar 11. - Tempatkan bagian atas tangga pada permukaan yang kokoh. Mengangkat benda dan Peralatan. Barang-barang yang berat seperti tabung slinder, material yang panjang tidak boleh dibawa melalui tangga. Gunakan alat pengangkat, kerekan atau tali yang sesuai. Membawa peralatan pencahayaan pada tas punggung arau sarung yang menempel pada sabuk (belt) sehingga kedua tangan bebas untuk memegang tangga. Stepladder Stepladder tidak dirancang. untuk ditempatkan pada landasan yang miring. e Perancag (Scaffolds) Banyak yang\u00bbmemutuskan untuk menggunakan tangga dalam melakukan\u201c.pekerjaan \u201ctanpa mempertimbangkan risiko jika menggunakan peralatan lain. Lebih aman jika bekerja dengan mendirikan perancah' dari pada menggunakan tangga. Pekerjaan seperti, pemindahan talang air, melakukan pengecatan pada area yang luas dan tinggi, pekerjaan pembongkaran, atau pekerjaan yang tidak cocok cdengan menggunakan tangga harus menggunakan perancah. 5. Mengangkat-Material. Pada-beberapa pekerjaan yang dilakukan di atas atap tetap memerlukan pengangkatan bahan seperti gulungan atau lembaran atap dil. Proses pengangkatan bahan ini pasti akan menuntut pekerja untuk bekerja di tepi\natap. Pada keaadaan seperti ini harus dibuat perlindungan yang memadai\nKeterangan: Susunan proteksi seperti gambar 7 sangat cocok dipasang pada sepanjang tepi atap, yang memiliki pembatas yang kuat. Tiang pada bagian dalam dibuat pendek yang dialaskan dengan papan. Tiang tersebut dibuat sedekat mungkin dengan tembok pembatas dan dihubungjan dengan pipa pendek ke tiang bagian depan seperti yang ditunjukkan pada gambar. Untuk pipa bagian bawah dipasang sedekat mungkin dengan bagian atas tembok pembatas. 17 Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali Tiang bagian dalam harus diberi penyangga serta jarak antara bagian atas tembok pembatas dengan bagian paling bawah tiang bagian luar setidaknya 1.2 m. Pagar pembatas (guard rail) dipasang pada tiang bagian dalam dengan jarak masing-masing tiang tidak lebih dari 2.4 m. Ketika dibangun, salah satu tiang bagian dalam dapat dilepas atau dipindahkan untuk memungkingkan pemasangan roofing felt (lembar atap). Gambar 8 Perlindungan Proteksi Pada Pinggiran.Atap Datar Fa YE TA ea \u2014 Pemindahan DN | penyeimbang \u201cApa (counterweight) dan ag pengangkatan pelat dasar. Keterangan: Pada sistem proteksi ini memungkinkan salah satu penyeimbang (counterweights) di hilangkan/ dipindahkan, dan pelat dasar (base plate) dapat diangkat untuk memungkinkan pekerja melakukan pekerjaan di bagian tepi dengan tanpa hambatan meskipun pagar pembatas tetap pada posisinya.\nPagar pembatas harus sesuai dan harus bisa memberikan\nlangkah pelaksanaan,yang,antara lain: \nTahapan Pelaksanaan Bekerja'di Ketinggian adalah sebagai berikut: \n1. Contract Holder mempersiapkan seluruh persyaratan peralatan kerja, material, \ndan metodologipekerjaan yang sesuai persyaratan. Persyaratan-persyaratan \ndisampaikan kepada-Scaffolder untuk di implementasikan pada saat bekerja. \n2. Performing Authority (PA) atau Scaffolder melakukan hal-hal sebagai berikut: \na. \nb. Membuat SIKA dan JSA sesuai dengan assessment terhadap pekerjaan \nyang-akan dilakukan. \nPerforming Authority (PA) atau Scaffolder Mengajukan SIKA dan JSA \nKepada Pemilik Area. \n3. Pemilik Area mereview SIKA dan JSA serta mengesahkannya. \n4, SCaffolder atau Performing Authority (PA) melakukan hal-hal sebagai berikut: \na. \nb. Menerima SIKA dan JSA yang sudah ditandatangani. \nMemakai seluruh peralatan kerja (Full Body Harness # Double Hook, Safety \nHelmet # Chin Strap, Sarung Tangan, Coverall dan lain-lain) sebelum\n\n\n\nPERTANYAAN: berikan saya prosedur standar bekerja di ketinggian\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:35:53,811 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'berikan saya prosedur standar bekerja di ketinggian'
2025-05-06 04:35:53,811 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,817 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:53,829 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 46
2025-05-06 04:35:53,829 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 46
2025-05-06 04:35:53,829 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,835 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:53,838 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 46
2025-05-06 04:35:53,838 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,841 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:53,843 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 46
2025-05-06 04:35:53,843 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,846 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:53,848 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 46
2025-05-06 04:35:53,848 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,852 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:35:53,853 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 46
2025-05-06 04:35:53,853 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:35:53,857 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:31,451 - rag-chatbot - INFO - Menerima kueri chat: 'berikan saya prosedur standar bekerja di ketinggian'
2025-05-06 04:38:31,451 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 04:38:31,451 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 5, "endpoint": "embedString", "parameter": {"inputString": "berikan saya prosedur standar bekerja di ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:38:31,476 - RemoteCallHandler - DEBUG - {"call_id": 5, "event": "Received RPC result", "json": {"callId": 5, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 04:38:31,476 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-06 04:38:31,476 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:31,480 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:31,480 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-06 04:38:31,486 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Hasil: chunk_id=208, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7367606382596686
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Hasil: chunk_id=206, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7221816016543879
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Hasil: chunk_id=487, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7164254953607634
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Hasil: chunk_id=283, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7079530954360962
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Hasil: chunk_id=220, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.706997275352478
2025-05-06 04:38:31,486 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-06 04:38:31,486 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-06 04:38:31,486 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 4, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf (general_document)\n--------------------------------------\nperancah dan atau bekerja di ketinggian. \n3. Focal Point adalah fungsi-fungsi terkait yang secara teratur meninjau \nprosedur dan merevisi bila diperlukan untuk tetap selaras dengan operasi, \npedoman kelompok dan\u201c persyaratan peraturan untuk mendapat \npersetujuan. Focal Point dalam-pengelolaan bekerja di ketinggian adalah \nEngineering dan HSSE! \n4. Inspektur Perancahyadalah\" individu yang telah mengikuti dan lolos dari \npelatihan Inspektur Perancah yang telah disetujui Perusahaan dan bukan \nbagian dari tim..konstruksi perancah tetapi berasal dari perusahaan yang \nsama. \n5. Lifting Gear.adalah rantai sling, tali kawat sling, ring, link, kait, klem girder, \nshacklewmata baut atau mata tali. \n6. Mitra Kerjasadalah-mitra strategis yang melaksanakan usaha pengelolaan \nkegiatan preduksi,migas di dalam wilayah kerja PEPC. \n7. Pengguna Perancah Berkompeten I adalah pengguna perancah yang \ntelah.mengikuti dan lolos dalam Pelatihan Pengguna Perancah Dasar Tahap\nmembuat akses selamat dalam penggunaan perancah. Membantu pekerja yang \nbertugas merencanakan, mengkoordinasikan, dan melaksanakan persyaratan \nserta standar perancah dan caraniain untuk akses bekerja di ketinggian. \n1. RUANG LINGKUP \n1.  TKO ini mengatur tentang-tugasisetan kewajiban serta tanggung jawab \nfungsi terkait pengelolaan'keselamatan bekerja di ketinggian di lingkungan \nPT Pertamina EP'Cepu (PEPGJ. \n2. TKO ini tidak mencakup-perarnicah yang didesain untuk beban berat atau lantai \nsementara wintuk. \u201cpekerjaan palsu\u201d seperti yang biasa digunakan dalam \nkonstruksi bangunan. Setiap pekerjaan menggunakan perancah besar yang \nmembutuhkan-perhitungan penuh dan anotasi gambar harus dilakukan oleh \nspesialis perancah kontraktor dan design engineers. \n3. TKO inj digunakan oleh personil yang bertugas untuk membuat perencanaan, \nkoordinasi, dan implementasi selanjutnya dari kebutuhan untuk akses dan \nperancah yang selamat.\natau anak tangga terakhir yang digunakan pekerja untuk berdiri. Selain itu terdapat pegangan yang sesuai untuk mengurangi risiko ketidakseimbangan. - Tempatkan tangga pada kemiringan yang tepat untuk meminimalisasi risiko tergelincirnya tangga (idealnya pada kemiringan 75\u201d terhadap horizontal atau 1 m keluar.dari bangunan untuk setiap ketinggian 4 m). Lihat gambar 11. - Tempatkan bagian atas tangga pada permukaan yang kokoh. Mengangkat benda dan Peralatan. Barang-barang yang berat seperti tabung slinder, material yang panjang tidak boleh dibawa melalui tangga. Gunakan alat pengangkat, kerekan atau tali yang sesuai. Membawa peralatan pencahayaan pada tas punggung arau sarung yang menempel pada sabuk (belt) sehingga kedua tangan bebas untuk memegang tangga. Stepladder Stepladder tidak dirancang. untuk ditempatkan pada landasan yang miring. e Perancag (Scaffolds) Banyak yang\u00bbmemutuskan untuk menggunakan tangga dalam melakukan\u201c.pekerjaan \u201ctanpa mempertimbangkan risiko jika menggunakan peralatan lain. Lebih aman jika bekerja dengan mendirikan perancah' dari pada menggunakan tangga. Pekerjaan seperti, pemindahan talang air, melakukan pengecatan pada area yang luas dan tinggi, pekerjaan pembongkaran, atau pekerjaan yang tidak cocok cdengan menggunakan tangga harus menggunakan perancah. 5. Mengangkat-Material. Pada-beberapa pekerjaan yang dilakukan di atas atap tetap memerlukan pengangkatan bahan seperti gulungan atau lembaran atap dil. Proses pengangkatan bahan ini pasti akan menuntut pekerja untuk bekerja di tepi\natap. Pada keaadaan seperti ini harus dibuat perlindungan yang memadai\nKeterangan: Susunan proteksi seperti gambar 7 sangat cocok dipasang pada sepanjang tepi atap, yang memiliki pembatas yang kuat. Tiang pada bagian dalam dibuat pendek yang dialaskan dengan papan. Tiang tersebut dibuat sedekat mungkin dengan tembok pembatas dan dihubungjan dengan pipa pendek ke tiang bagian depan seperti yang ditunjukkan pada gambar. Untuk pipa bagian bawah dipasang sedekat mungkin dengan bagian atas tembok pembatas. 17 Internal Use Only Dicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali Tiang bagian dalam harus diberi penyangga serta jarak antara bagian atas tembok pembatas dengan bagian paling bawah tiang bagian luar setidaknya 1.2 m. Pagar pembatas (guard rail) dipasang pada tiang bagian dalam dengan jarak masing-masing tiang tidak lebih dari 2.4 m. Ketika dibangun, salah satu tiang bagian dalam dapat dilepas atau dipindahkan untuk memungkingkan pemasangan roofing felt (lembar atap). Gambar 8 Perlindungan Proteksi Pada Pinggiran.Atap Datar Fa YE TA ea \u2014 Pemindahan DN | penyeimbang \u201cApa (counterweight) dan ag pengangkatan pelat dasar. Keterangan: Pada sistem proteksi ini memungkinkan salah satu penyeimbang (counterweights) di hilangkan/ dipindahkan, dan pelat dasar (base plate) dapat diangkat untuk memungkinkan pekerja melakukan pekerjaan di bagian tepi dengan tanpa hambatan meskipun pagar pembatas tetap pada posisinya.\nPagar pembatas harus sesuai dan harus bisa memberikan\nlangkah pelaksanaan,yang,antara lain: \nTahapan Pelaksanaan Bekerja'di Ketinggian adalah sebagai berikut: \n1. Contract Holder mempersiapkan seluruh persyaratan peralatan kerja, material, \ndan metodologipekerjaan yang sesuai persyaratan. Persyaratan-persyaratan \ndisampaikan kepada-Scaffolder untuk di implementasikan pada saat bekerja. \n2. Performing Authority (PA) atau Scaffolder melakukan hal-hal sebagai berikut: \na. \nb. Membuat SIKA dan JSA sesuai dengan assessment terhadap pekerjaan \nyang-akan dilakukan. \nPerforming Authority (PA) atau Scaffolder Mengajukan SIKA dan JSA \nKepada Pemilik Area. \n3. Pemilik Area mereview SIKA dan JSA serta mengesahkannya. \n4, SCaffolder atau Performing Authority (PA) melakukan hal-hal sebagai berikut: \na. \nb. Menerima SIKA dan JSA yang sudah ditandatangani. \nMemakai seluruh peralatan kerja (Full Body Harness # Double Hook, Safety \nHelmet # Chin Strap, Sarung Tangan, Coverall dan lain-lain) sebelum\n\n\n\nPERTANYAAN: berikan saya prosedur standar bekerja di ketinggian\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 04:38:39,163 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'berikan saya prosedur standar bekerja di ketinggian'
2025-05-06 04:38:39,163 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,167 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:39,179 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 47
2025-05-06 04:38:39,179 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 47
2025-05-06 04:38:39,179 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,184 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:39,186 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 47
2025-05-06 04:38:39,186 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,191 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:39,193 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 47
2025-05-06 04:38:39,193 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,197 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:39,198 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 47
2025-05-06 04:38:39,198 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,203 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 04:38:39,204 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 47
2025-05-06 04:38:39,204 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 04:38:39,209 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:57:26,714 - rag-chatbot - INFO - Menerima kueri chat: 'prosedur keselamatan/safety pada ketinggian'
2025-05-06 05:57:26,714 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 05:57:26,714 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 6, "endpoint": "embedString", "parameter": {"inputString": "prosedur keselamatan/safety pada ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:57:26,716 - RemoteCallHandler - DEBUG - {"call_id": 6, "event": "Received RPC result", "json": {"callId": 6, "error": {"...": "..."}, "type": "rpcError"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:57:26,716 - rag-chatbot - ERROR - Error saat memproses kueri chat: RPC error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [
        "qwen2.5-7b-instruct-1m"
      ],
      "query": {
        "domain": "embedding",
        "identifier": "nomic-embed-text-v1.5"
      },
      "totalLoadedModels": 1
    }
2025-05-06 05:57:26,716 - rag-chatbot - ERROR - Traceback (most recent call last):
  File "/home/e206/hazopPoleng/backendLLM/chatbot2_api.py", line 303, in chat
    query_embedding = embedding_model.embed(chat_query.query)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
lmstudio.LMStudioModelNotFoundError: RPC error: 

  No model found that fits the query.

  Additional information from server:
    {
      "code": "generic.noModelMatchingQuery",
      "loadedModelsSample": [
        "qwen2.5-7b-instruct-1m"
      ],
      "query": {
        "domain": "embedding",
        "identifier": "nomic-embed-text-v1.5"
      },
      "totalLoadedModels": 1
    }

2025-05-06 05:58:08,513 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:08,513 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:08,514 - httpcore.http11 - DEBUG - response_closed.started
2025-05-06 05:58:08,514 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-06 05:58:08,514 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:08,514 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/llm)", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:08,514 - SyncLMStudioWebsocket - DEBUG - {"event": "Disconnecting websocket session (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:08,514 - _AsyncWebsocketThread - INFO - {"event": "Websocket closed, terminating demultiplexing task.", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:08,515 - httpcore.http11 - DEBUG - response_closed.started
2025-05-06 05:58:08,515 - httpcore.http11 - DEBUG - response_closed.complete
2025-05-06 05:58:08,515 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread terminated", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:08,515 - SyncLMStudioWebsocket - INFO - {"event": "Websocket session disconnected (ws://localhost:1234/embedding)", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,782 - rag-chatbot - INFO - Mencoba inisialisasi model embedding...
2025-05-06 05:58:09,787 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,787 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-06 05:58:09,787 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-06 05:58:09,788 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-06 05:58:09,808 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-06 05:58:09,809 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x72b97e7775c0>
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-06 05:58:09,809 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'6VlQFTayPteLoDlc7vag7hRlJDM=')])
2025-05-06 05:58:09,810 - httpx - INFO - HTTP Request: GET ws://localhost:1234/embedding "HTTP/1.1 101 Switching Protocols"
2025-05-06 05:58:09,810 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,811 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,811 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/embedding)", "thread_id": "Thread-1", "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,811 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"identifier": "nomic-embed-text-v1.5", "loadConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}, "loadTtlMs": 3600000}, "endpoint": "getOrLoad", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:09,812 - GetOrLoadEndpoint - DEBUG - {"endpoint": "getOrLoad", "event": "Model get/load started", "model_key": "nomic-embed-text-v1.5"}
2025-05-06 05:58:10,195 - rag-chatbot - INFO - Model embedding berhasil diinisialisasi.
2025-05-06 05:58:10,196 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "embedString", "parameter": {"inputString": "Ini adalah teks pengujian untuk memeriksa dimensi embedding.", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:10,213 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:58:10,213 - rag-chatbot - INFO - Mencoba inisialisasi model LLM...
2025-05-06 05:58:10,213 - _AsyncWebsocketThread - INFO - {"event": "Websocket thread started", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,213 - asyncio - DEBUG - Using selector: EpollSelector
2025-05-06 05:58:10,214 - httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2025-05-06 05:58:10,214 - httpx - DEBUG - load_verify_locations cafile='/home/e206/miniconda3/lib/python3.12/site-packages/certifi/cacert.pem'
2025-05-06 05:58:10,226 - httpcore.connection - DEBUG - connect_tcp.started host='localhost' port=1234 local_address=None timeout=5.0 socket_options=None
2025-05-06 05:58:10,227 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x72b97e7da870>
2025-05-06 05:58:10,227 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-05-06 05:58:10,227 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-05-06 05:58:10,227 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-05-06 05:58:10,227 - httpcore.http11 - DEBUG - send_request_body.complete
2025-05-06 05:58:10,227 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-05-06 05:58:10,228 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 101, b'Switching Protocols', [(b'Upgrade', b'websocket'), (b'Connection', b'Upgrade'), (b'Sec-WebSocket-Accept', b'DBPWrVpy5mcfDxEdhldy7dOVp1w=')])
2025-05-06 05:58:10,228 - httpx - INFO - HTTP Request: GET ws://localhost:1234/llm "HTTP/1.1 101 Switching Protocols"
2025-05-06 05:58:10,228 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket connected", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,228 - _AsyncWebsocketThread - DEBUG - {"event": "Websocket authenticated", "json": {"success": true}, "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,229 - _AsyncWebsocketThread - INFO - {"event": "Websocket session established (ws://localhost:1234/llm)", "thread_id": "Thread-2", "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,229 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 1, "endpoint": "listLoaded", "type": "rpcCall"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,230 - RemoteCallHandler - DEBUG - {"call_id": 1, "event": "Received RPC result", "json": {"callId": 1, "result": ["..."], "type": "rpcResult"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:58:10,230 - rag-chatbot - INFO - Model LLM berhasil diinisialisasi.
2025-05-06 05:58:10,240 - rag-chatbot - INFO - Memulai server API Chatbot...
2025-05-06 05:59:26,756 - rag-chatbot - INFO - Menerima kueri chat: 'prosedur keselamatan/safety terkait bekerja di ketinggian'
2025-05-06 05:59:26,756 - rag-chatbot - INFO - Membuat embedding dari query
2025-05-06 05:59:26,756 - SyncLMStudioWebsocket - DEBUG - {"event": "Sending RPC request", "json": {"callId": 2, "endpoint": "embedString", "parameter": {"inputString": "prosedur keselamatan/safety terkait bekerja di ketinggian", "modelSpecifier": {"query": {"identifier": "nomic-embed-text-v1.5"}, "type": "query"}}, "type": "rpcCall"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:59:26,782 - RemoteCallHandler - DEBUG - {"call_id": 2, "event": "Received RPC result", "json": {"callId": 2, "result": {"...": "..."}, "type": "rpcResult"}, "ws_url": "ws://localhost:1234/embedding"}
2025-05-06 05:59:26,782 - rag-chatbot - INFO - Mencari chunks yang mirip dengan query. Category: None, Max chunks: 5
2025-05-06 05:59:26,782 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:26,787 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:26,787 - rag-chatbot - INFO - Pencarian tanpa filter kategori
2025-05-06 05:59:26,792 - rag-chatbot - INFO - Pencarian mengembalikan 5 hasil
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Hasil: chunk_id=247, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7544784624408304
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Hasil: chunk_id=42, dokumen=Pekerjaan di Ketinggian (Monkey Board) pdf.pdf, similarity=0.7340905885127366
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Hasil: chunk_id=211, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.732547662632098
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Hasil: chunk_id=246, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7292542674915278
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Hasil: chunk_id=528, dokumen=Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, similarity=0.7268559173855732
2025-05-06 05:59:26,792 - rag-chatbot - DEBUG - Koneksi database ditutup
2025-05-06 05:59:26,792 - rag-chatbot - INFO - Mengirim prompt ke LLM
2025-05-06 05:59:26,794 - SyncLMStudioWebsocket - DEBUG - {"event": "Connecting channel endpoint", "json": {"channelId": 1, "creationParameter": {"history": {"messages": [{"content": [{"text": "Kamu adalah asisten AI Safety Assistant yang membantu menjawab pertanyaan berdasarkan dokumen yang diberikan. \nBerikan jawaban yang sangat sangat lengkap, akurat, dan bermanfaat persis seperti dokumen. Rujuk ke dokumen dengan menyebutkan nama file asli.\nJANGAN menyebutkan UUID atau ID internal dalam jawaban. Jika pengguna tidak bertanya tentang dokumen, jawab dengan pengetahuan umum anda.\n\nDOKUMEN YANG TERSEDIA:\n\nDOKUMEN 1: Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf (general_document)\n--------------------------------------\nPada situasi dimana pekerja harus menuju ujung dari atap maka perlu \ndiberi perlindungan seperti guard rails (yang mampu menopang berat \nbadan pekerja). \nJaring-jaring papan pijakan dan guard rail harus disediakan jika ada \npekerjaan di tepi atap. Peru diperhatikan untuk menjamin \npemasangan sistem pengaman mempunyai akses dan tempat kerja \nyang aman, atau sebagai tindakan pencegahan lain adalah dengan \npemakaian safety harness yang melekat pada jangkar yang tepat. \nBekerja pada tepi atap merupakan kegiatan yang berbahaya sehingga \nperlu dilakukan pengawasan dan tindakan pencegahan yang \nmemadai untuk menjamin keselamatan (pekerja dan orang lain \ndisekitarnya selama pekerjaan berlangsung. Tindakan pencegahan \nberikut yang penting dilakukan: \n- Memasang jaring pengaman dibawah tepian atap. \n- Menggunakan safety. harness-dengan benar. \nPerlu disadari bahwa penggunaan peralatan diatas kadang-kala tidak \ndapat dilaksanakan, \u201ctetapi.hal tersebut sangat penting untuk tidak\nterjadi dalam,operasisynormal, dan jika terjadi, hanya untuk waktu yang \nsingkat. \nB. BATASAN \n1. Pengelolaan Keselamatan Bekerja di ketinggian dari setiap kegiatan atau \naktifitas drwilayah kerja PEPC mengacu pada dokumen ini. \n2. Untuk menunjangxpengelolaan keselamatan bekerja di ketinggian yang \nefektif maka berikut ini adalah tugas dan tanggungjawab dari beberapa \nfungsi yang terkait: \na. @Contract Holder or Line Team Leader: (User) \n1) Menyertakan persyaratan perancah dalam kontrak yang berlaku. \n2) Mempersiapkan seluruh persyaratan peralatan kerja, material, dan \nmetodologi pekerjaan minimal yang sesuai persyaratan \nsebagaimana dijelaskan pada Lampiran 2. \n3) Memastikan seluruh pekerja yang terlibat dalam bekerja di \nKetinggian memiliki dan telah mengikuti pelatihan bekerja di \nketinggian, serta kompetensi. \n4) Berkoordinasi dengan autorisasi Sistem Ijin Kerja dan fungsi HSSE \nuntuk pembahasan Risk Assessment dan Job Safety Analysis \n(JSA).\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali\nValley Gutter \nJika pekerja hrus bekerja di tembah/ selokan atap atau menggunakan \nai sarana akses jalan ke area kerja yang bahanya \njatuh dari \nselokan atap sebag \nbersifat rapuh, M \nketinggian harus dise ahan terhadap bahaya \naka penceg 3 dan 4). \ndiakan. (Lihat gambar \nyang dapat dilakukan: \nTindakan pencegahan parallel) sampai Ke \n. Menyediakan papan paralel (running line \nakses yang bisa pekerja memasang safety harness. \nMenempatkan papan perancah (scaffold board) atad-sejenisnya \nsetinggi 1 M dari bagian permukaan yang rapun Gi samping area \nberjalan sebagai penghalang (barrier) ketika seseorang \nterjatuh. tersandung atau \nGambar 3. Valley Sutter \nGambar 4 Life Line dan Safety Belt \n12\nInternal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:18Dokumen Tidak Terkendali\nOpen Edges\natap tersebut seperti pekerja yang mengarahkan atau membantu memindahkan material harus menggunakan safety belt atau harness yang dipasang pada jangkar yang kokoh. Peralatan pengangkat seperti pada gambar 12 membutuhkan dudukan yang aman. Jika dipasang penyeimbang, maka harus diperhatikan faktor keselamatan. Jika alat angkat menggunakan roda bergerak/ katrol dan sisi lainnya dipasang penyeimbang, maka harus diberi pendnjang untuk menahan beban yang diberikan oleh pekerja yang mengangkat material. Gambar 12 Dudukan Penyeimbang Roda)! Katrol G- Caunterweight Mep pulau 2'Total beban, sehingga memungkinkan penarikan pada sisi yangpberlawarnan dari katral atau beban yang diangkat adalah 254W \u00ab Memungkinkan tiga titik tumpu keselamatan, C x T tidak boleh kurangGari 3x (25 x Wx O) 6. Kondisi.cuaca Bahaya: yang ditimbulkan akibat kondisi cuaca yang buruk harus diaritisipasi dan tindakan pencegahan yang sesuai harus dilakukan. Area atap harus diperiksa sebelum memulai pekerjaan. Keputusan untuk melanjutkan atau memberhentikan sementara pekerjaan akan diberikan oleh pengawas berdasarkan kecepatan angin, tindakan yang telah dilakukan untuk mencegah terjatuhnya seseorang dari atap, posisi dan ketinggian atap dan ukuran dari bahan yang sedang ditangani. 7. Perlindungan lainnya Meskipun perlindungan terhadap pekerja yang bekerja di atap merupakan hal yang penting, perlindungan terhadap orang-orang yang berada di sekitar tempat kerja (termasuk masyarakat umum) dari bahaya kejatuhan\nmaterial dan peralatan adalah hal yang penting.\n\n\nDOKUMEN 2: Pekerjaan di Ketinggian (Monkey Board) pdf.pdf (standard_safety)\n--------------------------------------\nkaitkan  terlebih  dahulu Hook Safety  ke Pagar Monkey Board  dengan  baik dan \naman. Hal ini  untuk  mengantisipasi Derrick Man terjatuh  dari ketinggian.  \n3. Derrick Man mengkaitkan manila rope  pada pipa produksi/bor dan lanjut buka \nelevator.  \n4. Tarik pipa produksi/bor dengan manila rope  dan sandarkan pipa produksi/bor \ndi Monkey Board . \n5. Pasang rantai untuk stopper  pada sandaran pipa produksi/bor.  \n6. Lanjutkan pekerjaan diatas sesuai  dengan program kerja  dengan  baik dan \naman.  \n7. Setelah  selesai  pekerjaan  pada  saat Derrick Man akan  turun, yakinkan  \nperalalatan  dan kondisi di Monkey Board  dalam  keadaan  aman.  \n8. Buka Hook Safety  pengait  dan selanjutnya  kaitkan Hook Safety  pengait  ke \nanak  tangga  sebelum Derrick M an turun.  Internal Use Only\nDicetak Oleh Tommy Setianto (Nopek 19013414) Pada Tanggal 2 May 2025 Jam 15:46:27Dokumen Tidak Terkendali\n \n9. Derrick Man mengkaitkan full body hardness  dengan fall arrestor  ataupun counter\n\n\n\nPERTANYAAN: prosedur keselamatan/safety terkait bekerja di ketinggian\n\nJAWABAN:", "type": "text"}], "role": "user"}]}, "modelSpecifier": {"query": {"identifier": "qwen2.5-7b-instruct-1m"}, "type": "query"}, "predictionConfigStack": {"layers": [{"config": {"fields": []}, "layerName": "apiOverride"}]}}, "endpoint": "predict", "type": "channelCreate"}, "ws_url": "ws://localhost:1234/llm"}
2025-05-06 05:59:35,899 - rag-chatbot - INFO - Menyimpan riwayat kueri (tanpa embedding): 'prosedur keselamatan/safety terkait bekerja di ketinggian'
2025-05-06 05:59:35,900 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,906 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:35,917 - rag-chatbot - INFO - Riwayat kueri disimpan dengan ID: 48
2025-05-06 05:59:35,918 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 48
2025-05-06 05:59:35,918 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,923 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:35,926 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 10 dari kueri ID 48
2025-05-06 05:59:35,926 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,930 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:35,932 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 48
2025-05-06 05:59:35,932 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,937 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:35,938 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 48
2025-05-06 05:59:35,938 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,943 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 05:59:35,944 - rag-chatbot - DEBUG - Mencatat akses dokumen ID 16 dari kueri ID 48
2025-05-06 05:59:35,944 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 05:59:35,948 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 06:00:35,335 - rag-chatbot - INFO - Permintaan download dokumen ID: 16
2025-05-06 06:00:35,336 - rag-chatbot - DEBUG - Mencoba membuat koneksi psycopg2...
2025-05-06 06:00:35,339 - rag-chatbot - DEBUG - Koneksi psycopg2 berhasil dibuat.
2025-05-06 06:00:35,340 - rag-chatbot - INFO - Mengirim file: Pengelolaan Keselamatan Bekerja di Ketinggian (1).pdf, path: uploads/b9a0c02f-67aa-4cd7-88b8-94101b7ffb43.pdf
